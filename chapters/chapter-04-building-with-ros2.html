<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-chapters/chapter-04-building-with-ros2" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Chapter 4: Building with ROS 2 | Physical AI &amp; Humanoid Robotics</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://muskaanfayyaz.github.io/Physical-AI-Humanoid-Robotics/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://muskaanfayyaz.github.io/Physical-AI-Humanoid-Robotics/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://muskaanfayyaz.github.io/Physical-AI-Humanoid-Robotics/chapters/chapter-04-building-with-ros2"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Chapter 4: Building with ROS 2 | Physical AI &amp; Humanoid Robotics"><meta data-rh="true" name="description" content="Learning Objectives"><meta data-rh="true" property="og:description" content="Learning Objectives"><link data-rh="true" rel="icon" href="/Physical-AI-Humanoid-Robotics/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://muskaanfayyaz.github.io/Physical-AI-Humanoid-Robotics/chapters/chapter-04-building-with-ros2"><link data-rh="true" rel="alternate" href="https://muskaanfayyaz.github.io/Physical-AI-Humanoid-Robotics/chapters/chapter-04-building-with-ros2" hreflang="en"><link data-rh="true" rel="alternate" href="https://muskaanfayyaz.github.io/Physical-AI-Humanoid-Robotics/chapters/chapter-04-building-with-ros2" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Chapter 4: Building with ROS 2","item":"https://muskaanfayyaz.github.io/Physical-AI-Humanoid-Robotics/chapters/chapter-04-building-with-ros2"}]}</script><link rel="stylesheet" href="/Physical-AI-Humanoid-Robotics/assets/css/styles.f1b00d5d.css">
<script src="/Physical-AI-Humanoid-Robotics/assets/js/runtime~main.adb20441.js" defer="defer"></script>
<script src="/Physical-AI-Humanoid-Robotics/assets/js/main.b02503ad.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Physical-AI-Humanoid-Robotics/"><div class="navbar__logo"><img src="/Physical-AI-Humanoid-Robotics/img/logo-transparent.png" alt="Physical AI Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/Physical-AI-Humanoid-Robotics/img/logo-transparent.png" alt="Physical AI Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Physical AI &amp; Humanoid Robotics</b></a><a class="navbar__item navbar__link" href="/Physical-AI-Humanoid-Robotics/">Textbook</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/muskaanfayyaz/Physical-AI-Humanoid-Robotics" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Physical-AI-Humanoid-Robotics/"><span title="About" class="linkLabel_WmDU">About</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Physical-AI-Humanoid-Robotics/chapters/chapter-01-introduction-to-physical-ai"><span title="Weeks 1-2: Foundations" class="categoryLinkLabel_W154">Weeks 1-2: Foundations</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/Physical-AI-Humanoid-Robotics/chapters/chapter-03-introduction-to-ros2"><span title="Weeks 3-5: ROS 2 Fundamentals" class="categoryLinkLabel_W154">Weeks 3-5: ROS 2 Fundamentals</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Physical-AI-Humanoid-Robotics/chapters/chapter-03-introduction-to-ros2"><span title="Chapter 3: Introduction to ROS 2" class="linkLabel_WmDU">Chapter 3: Introduction to ROS 2</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Physical-AI-Humanoid-Robotics/chapters/chapter-04-building-with-ros2"><span title="Chapter 4: Building with ROS 2" class="linkLabel_WmDU">Chapter 4: Building with ROS 2</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Physical-AI-Humanoid-Robotics/chapters/chapter-05-ros2-for-humanoid-robots"><span title="Chapter 5: ROS 2 for Humanoid Robots" class="linkLabel_WmDU">Chapter 5: ROS 2 for Humanoid Robots</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Physical-AI-Humanoid-Robotics/chapters/chapter-06-physics-simulation-with-gazebo"><span title="Weeks 6-7: Simulation" class="categoryLinkLabel_W154">Weeks 6-7: Simulation</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Physical-AI-Humanoid-Robotics/chapters/chapter-08-nvidia-isaac-platform"><span title="Weeks 8-10: NVIDIA Isaac Platform" class="categoryLinkLabel_W154">Weeks 8-10: NVIDIA Isaac Platform</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Physical-AI-Humanoid-Robotics/chapters/chapter-11-humanoid-robot-kinematics-and-dynamics"><span title="Weeks 11-12: Humanoid Development" class="categoryLinkLabel_W154">Weeks 11-12: Humanoid Development</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Physical-AI-Humanoid-Robotics/chapters/chapter-15-conversational-robotics"><span title="Week 13: Conversational AI" class="categoryLinkLabel_W154">Week 13: Conversational AI</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Physical-AI-Humanoid-Robotics/chapters/chapter-16-sim-to-real-transfer"><span title="Final Weeks: Deployment &amp; Capstone" class="categoryLinkLabel_W154">Final Weeks: Deployment &amp; Capstone</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Physical-AI-Humanoid-Robotics/chapters/appendix-a-hardware-setup-guides"><span title="Reference Materials" class="categoryLinkLabel_W154">Reference Materials</span></a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/Physical-AI-Humanoid-Robotics/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Weeks 3-5: ROS 2 Fundamentals</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Chapter 4: Building with ROS 2</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Chapter 4: Building with ROS 2</h1></header>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="learning-objectives">Learning Objectives<a href="#learning-objectives" class="hash-link" aria-label="Direct link to Learning Objectives" title="Direct link to Learning Objectives" translate="no">​</a></h2>
<p>By the end of this chapter, you will be able to:</p>
<ul>
<li class="">Understand ROS 2 package structure and organization principles</li>
<li class="">Explain how publishers and subscribers work conceptually</li>
<li class="">Analyze when to use topics, services, and actions for different scenarios</li>
<li class="">Describe the launch system architecture and its role in system orchestration</li>
<li class="">Configure and manage parameters for flexible system configuration</li>
<li class="">Understand the build system (colcon) and dependency management</li>
<li class="">Design multi-node systems with appropriate communication patterns</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction" translate="no">​</a></h2>
<p>Understanding ROS 2&#x27;s architecture is essential, but building real systems requires mastering its development tools and patterns. How do you structure code into packages? How do publishers and subscribers actually communicate under the hood? When should you use a topic versus a service versus an action? How do you start ten nodes with the right parameters in the right order?</p>
<p>This chapter answers these questions by exploring the practical aspects of building with ROS 2. We examine package organization, communication pattern implementations, launch systems, parameter management, and build processes. By understanding these tools and patterns, you will be able to design and implement complex multi-node systems for humanoid robotics.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="ros-2-package-structure-and-organization">ROS 2 Package Structure and Organization<a href="#ros-2-package-structure-and-organization" class="hash-link" aria-label="Direct link to ROS 2 Package Structure and Organization" title="Direct link to ROS 2 Package Structure and Organization" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-is-a-package">What is a Package?<a href="#what-is-a-package" class="hash-link" aria-label="Direct link to What is a Package?" title="Direct link to What is a Package?" translate="no">​</a></h3>
<p>A package is the fundamental unit of organization in ROS 2. It contains:</p>
<p><strong>Nodes:</strong> Executable programs that perform computations.</p>
<p><strong>Launch Files:</strong> Scripts that start multiple nodes with configuration.</p>
<p><strong>Configuration Files:</strong> Parameters, URDFs, calibration data.</p>
<p><strong>Message Definitions:</strong> Custom data structures for communication.</p>
<p><strong>Dependencies:</strong> Declaration of required libraries and other packages.</p>
<p><strong>Build Instructions:</strong> How to compile the package.</p>
<p><strong>Documentation:</strong> READMEs, API documentation.</p>
<p>Packages encapsulate related functionality. A camera driver package contains the driver node, camera message definitions, calibration tools, and documentation—everything needed to use that camera.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="package-organization-principles">Package Organization Principles<a href="#package-organization-principles" class="hash-link" aria-label="Direct link to Package Organization Principles" title="Direct link to Package Organization Principles" translate="no">​</a></h3>
<p>Well-designed packages follow these principles:</p>
<p><strong>Single Responsibility:</strong> Each package has one clear purpose. A &quot;camera driver&quot; package drives cameras, not processing images.</p>
<p><strong>Minimal Dependencies:</strong> Packages depend only on what they need. Excessive dependencies create fragile systems.</p>
<p><strong>Reusability:</strong> Packages should work in different contexts. A LiDAR driver shouldn&#x27;t assume a specific robot configuration.</p>
<p><strong>Discoverability:</strong> Clear naming and documentation help others find and use packages.</p>
<p><strong>Consistency:</strong> Follow ROS 2 naming conventions and directory structure.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="standard-package-structure">Standard Package Structure<a href="#standard-package-structure" class="hash-link" aria-label="Direct link to Standard Package Structure" title="Direct link to Standard Package Structure" translate="no">​</a></h3>
<p>A typical ROS 2 package follows this directory layout:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">my_robot_package/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── CMakeLists.txt          (C++ build instructions)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── package.xml             (package metadata and dependencies)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── setup.py                (Python setup, if applicable)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── setup.cfg               (Python configuration)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── src/                    (C++ source files)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── my_node.cpp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── utils.cpp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── include/                (C++ header files)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── my_robot_package/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       └── my_node.hpp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── my_robot_package/       (Python package directory)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── __init__.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── my_node.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── launch/                 (launch files)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── my_robot.launch.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── simulation.launch.xml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── config/                 (configuration files)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── params.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── calibration.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── urdf/                   (robot descriptions)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── my_robot.urdf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── msg/                    (custom message definitions)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── MyMessage.msg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── srv/                    (custom service definitions)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── MyService.srv</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── action/                 (custom action definitions)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── MyAction.action</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── test/                   (unit tests)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── test_my_node.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── README.md              (package documentation)</span><br></span></code></pre></div></div>
<p>This structure separates concerns: source code in <code>src/</code>, configuration in <code>config/</code>, launch files in <code>launch/</code>. Tools like build systems and package managers understand this structure.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="package-metadata-packagexml">Package Metadata (package.xml)<a href="#package-metadata-packagexml" class="hash-link" aria-label="Direct link to Package Metadata (package.xml)" title="Direct link to Package Metadata (package.xml)" translate="no">​</a></h3>
<p>The <code>package.xml</code> file describes the package:</p>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token prolog" style="color:#999988;font-style:italic">&lt;?xml version=&quot;1.0&quot;?&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">package</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">format</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">3</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">my_robot_package</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">1.0.0</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">description</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Description of package functionality</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">description</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">maintainer</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">email</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">you@example.com</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Your Name</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">maintainer</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">license</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Apache-2.0</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">license</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- Build tool --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">buildtool_depend</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">ament_cmake</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">buildtool_depend</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- Dependencies needed to build --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">build_depend</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">rclcpp</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">build_depend</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">build_depend</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">sensor_msgs</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">build_depend</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- Dependencies needed to run --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">exec_depend</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">rclcpp</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">exec_depend</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">exec_depend</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">sensor_msgs</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">exec_depend</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- Test dependencies --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">test_depend</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">ament_lint_auto</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">test_depend</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">export</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">build_type</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">ament_cmake</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">build_type</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">export</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">package</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre></div></div>
<p>This declares that the package depends on <code>rclcpp</code> (ROS 2 C++ client library) and <code>sensor_msgs</code> (standard sensor message types). Build tools use this to ensure dependencies are available.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="workspace-organization">Workspace Organization<a href="#workspace-organization" class="hash-link" aria-label="Direct link to Workspace Organization" title="Direct link to Workspace Organization" translate="no">​</a></h3>
<p>Packages exist within workspaces—directories containing multiple packages:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ros2_workspace/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── src/                    (source space - your packages)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── package_a/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── package_b/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── package_c/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── build/                  (build artifacts)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── install/                (installed packages)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── log/                    (build logs)</span><br></span></code></pre></div></div>
<p>You edit code in <code>src/</code>, build into <code>build/</code> and <code>install/</code>, then source <code>install/setup.bash</code> to use the packages.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="package-naming-conventions">Package Naming Conventions<a href="#package-naming-conventions" class="hash-link" aria-label="Direct link to Package Naming Conventions" title="Direct link to Package Naming Conventions" translate="no">​</a></h3>
<p>ROS 2 follows naming conventions for clarity:</p>
<p><strong>Packages:</strong> lowercase with underscores: <code>my_robot_bringup</code>, <code>camera_driver</code></p>
<p><strong>Nodes:</strong> lowercase with underscores: <code>robot_state_publisher</code>, <code>joint_controller</code></p>
<p><strong>Topics:</strong> lowercase with slashes for namespaces: <code>/camera/image_raw</code>, <code>/joint_states</code></p>
<p><strong>Messages/Services/Actions:</strong> CamelCase: <code>SetBool</code>, <code>NavigateToPose</code>, <code>JointState</code></p>
<p><strong>Parameters:</strong> lowercase with underscores or dots: <code>max_velocity</code>, <code>camera.frame_rate</code></p>
<p>Consistent naming prevents confusion and improves readability.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="publishers-and-subscribers-how-they-work">Publishers and Subscribers: How They Work<a href="#publishers-and-subscribers-how-they-work" class="hash-link" aria-label="Direct link to Publishers and Subscribers: How They Work" title="Direct link to Publishers and Subscribers: How They Work" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-publish-subscribe-pattern">The Publish-Subscribe Pattern<a href="#the-publish-subscribe-pattern" class="hash-link" aria-label="Direct link to The Publish-Subscribe Pattern" title="Direct link to The Publish-Subscribe Pattern" translate="no">​</a></h3>
<p>Publishers and subscribers implement asynchronous, many-to-many communication:</p>
<p><strong>Decoupling:</strong> Publishers don&#x27;t know about subscribers. Subscribers don&#x27;t know about publishers. This separation allows changing either side independently.</p>
<p><strong>Flexibility:</strong> Adding a new subscriber doesn&#x27;t require modifying publishers. Multiple subscribers receive the same data.</p>
<p><strong>Scalability:</strong> Can handle hundreds of concurrent data streams.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="publisher-lifecycle">Publisher Lifecycle<a href="#publisher-lifecycle" class="hash-link" aria-label="Direct link to Publisher Lifecycle" title="Direct link to Publisher Lifecycle" translate="no">​</a></h3>
<p>When you create a publisher, several things happen:</p>
<p><strong>Topic Registration:</strong> The publisher announces it will publish on a specific topic with a specific message type.</p>
<p><strong>Discovery:</strong> Through DDS, the publisher advertises itself to all nodes in the system.</p>
<p><strong>Buffer Allocation:</strong> Memory is allocated for outgoing messages based on QoS history settings.</p>
<p><strong>Connection Establishment:</strong> When subscribers appear, DDS establishes communication paths.</p>
<p><strong>Publishing:</strong> When you call <code>publish()</code>, the message is serialized and sent via DDS to all subscribers.</p>
<p><strong>Conceptual Flow:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[Node creates Publisher]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[Register topic + type with DDS]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[DDS advertises to network]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[Subscriber discovers publisher] ← (DDS discovery)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[DDS establishes connection]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[publish() called]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[Message serialized]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[DDS distributes to all subscribers]</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="subscriber-lifecycle">Subscriber Lifecycle<a href="#subscriber-lifecycle" class="hash-link" aria-label="Direct link to Subscriber Lifecycle" title="Direct link to Subscriber Lifecycle" translate="no">​</a></h3>
<p>Subscribers mirror publishers:</p>
<p><strong>Topic Registration:</strong> The subscriber announces interest in a specific topic and message type.</p>
<p><strong>Discovery:</strong> DDS discovers compatible publishers.</p>
<p><strong>Buffer Allocation:</strong> Memory for incoming messages based on QoS.</p>
<p><strong>Connection Establishment:</strong> DDS connects to publishers.</p>
<p><strong>Callback Registration:</strong> The subscriber registers a callback function to invoke when messages arrive.</p>
<p><strong>Message Reception:</strong> When messages arrive, DDS deserializes them and invokes the callback with the message data.</p>
<p><strong>Conceptual Flow:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[Node creates Subscriber]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[Register topic + type + callback]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[DDS advertises subscription]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[DDS discovers publishers]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[DDS establishes connections]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[Message arrives from publisher]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[DDS deserializes message]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[Callback invoked with message]</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="message-serialization-and-deserialization">Message Serialization and Deserialization<a href="#message-serialization-and-deserialization" class="hash-link" aria-label="Direct link to Message Serialization and Deserialization" title="Direct link to Message Serialization and Deserialization" translate="no">​</a></h3>
<p>ROS 2 messages are language-agnostic data structures. To send over network:</p>
<p><strong>Serialization (Publisher):</strong> Convert message from in-memory structure to byte stream. DDS handles this using Common Data Representation (CDR) format.</p>
<p><strong>Transmission:</strong> Byte stream sent via network (UDP, shared memory, etc.).</p>
<p><strong>Deserialization (Subscriber):</strong> Convert byte stream back to in-memory structure.</p>
<p>This serialization is transparent—you work with native data structures in your programming language.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="zero-copy-communication">Zero-Copy Communication<a href="#zero-copy-communication" class="hash-link" aria-label="Direct link to Zero-Copy Communication" title="Direct link to Zero-Copy Communication" translate="no">​</a></h3>
<p>For efficiency, ROS 2 supports zero-copy transport when publisher and subscriber are on the same machine:</p>
<p><strong>Shared Memory:</strong> Instead of copying message data, both publisher and subscriber access the same memory region.</p>
<p><strong>Pointer Passing:</strong> Only pointers are passed, not data.</p>
<p><strong>Performance:</strong> Eliminates copy overhead for large messages (images, point clouds).</p>
<p><strong>Limitations:</strong> Works only on same machine, requires compatible QoS settings.</p>
<p>This is particularly important for humanoid robots processing high-resolution images and point clouds.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="topic-namespaces-and-remapping">Topic Namespaces and Remapping<a href="#topic-namespaces-and-remapping" class="hash-link" aria-label="Direct link to Topic Namespaces and Remapping" title="Direct link to Topic Namespaces and Remapping" translate="no">​</a></h3>
<p>Topics can be namespaced to organize communication:</p>
<p><strong>Global Topics:</strong> Begin with <code>/</code>: <code>/camera/image</code></p>
<p><strong>Relative Topics:</strong> Don&#x27;t begin with <code>/</code>: <code>image</code> (resolved relative to node namespace)</p>
<p><strong>Private Topics:</strong> Begin with <code>~</code>: <code>~/debug</code> (private to node)</p>
<p><strong>Remapping:</strong> Topics can be remapped at runtime:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ros2 run my_package my_node --ros-args -r chatter:=/my_topic</span><br></span></code></pre></div></div>
<p>This remaps topic <code>chatter</code> to <code>/my_topic</code>, allowing reusing nodes in different contexts without code changes.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="services-vs-topics-vs-actions-when-to-use-each">Services vs Topics vs Actions: When to Use Each<a href="#services-vs-topics-vs-actions-when-to-use-each" class="hash-link" aria-label="Direct link to Services vs Topics vs Actions: When to Use Each" title="Direct link to Services vs Topics vs Actions: When to Use Each" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="decision-framework">Decision Framework<a href="#decision-framework" class="hash-link" aria-label="Direct link to Decision Framework" title="Direct link to Decision Framework" translate="no">​</a></h3>
<p>Choosing the right communication pattern is critical for system design:</p>
<p><strong>Topics:</strong> Continuous data streams, latest value matters, one-way communication.</p>
<p><strong>Services:</strong> Request-response, confirmation needed, infrequent transactions.</p>
<p><strong>Actions:</strong> Long-running tasks, progress updates needed, cancellation required.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="topic-use-cases">Topic Use Cases<a href="#topic-use-cases" class="hash-link" aria-label="Direct link to Topic Use Cases" title="Direct link to Topic Use Cases" translate="no">​</a></h3>
<p>Use topics when:</p>
<p><strong>Sensor Data Streaming:</strong> Camera images, LiDAR scans, IMU readings. Data flows continuously, subscribers want latest values.</p>
<p><strong>State Publishing:</strong> Joint positions, robot pose, odometry. Multiple nodes need current state.</p>
<p><strong>Command Streams:</strong> Velocity commands to motors. Commands stream continuously at control rate.</p>
<p><strong>Event Notifications:</strong> Collision detected, button pressed. Events broadcast to interested parties.</p>
<p><strong>Examples:</strong></p>
<ul>
<li class=""><code>/camera/image_raw</code>: Camera driver publishes, detector/visualizer subscribe</li>
<li class=""><code>/joint_states</code>: Joint controllers publish, state estimator/visualizer subscribe</li>
<li class=""><code>/cmd_vel</code>: Planner publishes, motor controller subscribes</li>
<li class=""><code>/diagnostics</code>: All nodes publish health, monitor subscribes</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="service-use-cases">Service Use Cases<a href="#service-use-cases" class="hash-link" aria-label="Direct link to Service Use Cases" title="Direct link to Service Use Cases" translate="no">​</a></h3>
<p>Use services when:</p>
<p><strong>Configuration Changes:</strong> Setting parameters, triggering calibration. Need confirmation of change.</p>
<p><strong>Computation Requests:</strong> Path planning, inverse kinematics. Send input, get computed result.</p>
<p><strong>State Queries:</strong> Get map, retrieve configuration. Query current state.</p>
<p><strong>Control Commands:</strong> Start/stop processes, reset state. Need acknowledgment.</p>
<p><strong>Examples:</strong></p>
<ul>
<li class=""><code>/set_parameters</code>: Change node configuration</li>
<li class=""><code>/compute_ik</code>: Request inverse kinematics solution</li>
<li class=""><code>/get_planning_scene</code>: Retrieve current environment model</li>
<li class=""><code>/trigger_calibration</code>: Start calibration routine</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="action-use-cases">Action Use Cases<a href="#action-use-cases" class="hash-link" aria-label="Direct link to Action Use Cases" title="Direct link to Action Use Cases" translate="no">​</a></h3>
<p>Use actions when:</p>
<p><strong>Navigation:</strong> Moving to goal takes seconds. Want progress updates, ability to cancel.</p>
<p><strong>Manipulation:</strong> Grasping object takes time. Need feedback on approach progress.</p>
<p><strong>Long Computations:</strong> Planning complex path takes seconds. Want to cancel if taking too long.</p>
<p><strong>Sequences:</strong> Executing multi-step behaviors. Want per-step feedback.</p>
<p><strong>Examples:</strong></p>
<ul>
<li class=""><code>/navigate_to_pose</code>: Navigate to target with progress updates</li>
<li class=""><code>/follow_joint_trajectory</code>: Execute trajectory with feedback</li>
<li class=""><code>/grasp_object</code>: Approach, grasp, lift with feedback</li>
<li class=""><code>/dock</code>: Autonomous docking with progress updates</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="comparison-table">Comparison Table<a href="#comparison-table" class="hash-link" aria-label="Direct link to Comparison Table" title="Direct link to Comparison Table" translate="no">​</a></h3>
<table><thead><tr><th>Aspect</th><th>Topic</th><th>Service</th><th>Action</th></tr></thead><tbody><tr><td>Pattern</td><td>Pub-Sub</td><td>Request-Response</td><td>Goal-Feedback-Result</td></tr><tr><td>Timing</td><td>Asynchronous</td><td>Synchronous</td><td>Asynchronous</td></tr><tr><td>Duration</td><td>Continuous</td><td>Instant</td><td>Long-running</td></tr><tr><td>Feedback</td><td>No</td><td>No</td><td>Yes</td></tr><tr><td>Cancellation</td><td>N/A</td><td>N/A</td><td>Yes</td></tr><tr><td>Confirmation</td><td>No</td><td>Yes</td><td>Yes</td></tr><tr><td>Multiple Consumers</td><td>Yes</td><td>No</td><td>No</td></tr><tr><td>Use Case</td><td>Streaming data</td><td>Quick transactions</td><td>Tasks with progress</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="hybrid-patterns">Hybrid Patterns<a href="#hybrid-patterns" class="hash-link" aria-label="Direct link to Hybrid Patterns" title="Direct link to Hybrid Patterns" translate="no">​</a></h3>
<p>Real systems often combine patterns:</p>
<p><strong>Command + Status:</strong> Publish commands on topic, subscribe to status topic for feedback. Simpler than actions for continuous control.</p>
<p><strong>Service + Topic:</strong> Call service to start process, subscribe to topic for results. Avoids blocking on long computations.</p>
<p><strong>Action + Topic:</strong> Use action for high-level goal, publish intermediate results on topics for other nodes.</p>
<p><strong>Example Humanoid Navigation:</strong></p>
<ul>
<li class="">Action <code>/navigate_to_pose</code>: High-level navigation goal</li>
<li class="">Topic <code>/cmd_vel</code>: Low-level velocity commands to motors</li>
<li class="">Topic <code>/odometry</code>: Position feedback</li>
<li class="">Service <code>/get_map</code>: Retrieve map for planning</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="launch-system-architecture">Launch System Architecture<a href="#launch-system-architecture" class="hash-link" aria-label="Direct link to Launch System Architecture" title="Direct link to Launch System Architecture" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="why-launch-systems">Why Launch Systems?<a href="#why-launch-systems" class="hash-link" aria-label="Direct link to Why Launch Systems?" title="Direct link to Why Launch Systems?" translate="no">​</a></h3>
<p>Starting a humanoid robot manually is impractical:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Terminal 1: ros2 run camera_driver camera_node</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Terminal 2: ros2 run depth_processing depth_node</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Terminal 3: ros2 run object_detection detector_node --ros-args -p threshold:=0.8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Terminal 4: ros2 run localization slam_node</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Terminal 5: ros2 run planning planner_node</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Terminal 6: ros2 run control controller_node</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">... (20+ more nodes)</span><br></span></code></pre></div></div>
<p>Launch systems automate this, starting all nodes with correct parameters, namespaces, and remappings in a single command.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="launch-file-anatomy">Launch File Anatomy<a href="#launch-file-anatomy" class="hash-link" aria-label="Direct link to Launch File Anatomy" title="Direct link to Launch File Anatomy" translate="no">​</a></h3>
<p>Launch files describe how to start a system. They can:</p>
<ul>
<li class="">Start nodes with arguments</li>
<li class="">Set parameters from YAML files</li>
<li class="">Remap topics/services</li>
<li class="">Set namespaces</li>
<li class="">Include other launch files</li>
<li class="">Execute actions conditionally</li>
<li class="">Set environment variables</li>
<li class="">Start processes in order</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="launch-file-types">Launch File Types<a href="#launch-file-types" class="hash-link" aria-label="Direct link to Launch File Types" title="Direct link to Launch File Types" translate="no">​</a></h3>
<p>ROS 2 supports multiple launch file formats:</p>
<p><strong>Python Launch Files (.launch.py):</strong> Most flexible. Full Python scripting available.</p>
<p><strong>XML Launch Files (.launch.xml):</strong> Declarative, easier for simple cases.</p>
<p><strong>YAML Launch Files (.launch.yaml):</strong> Simplest, limited functionality.</p>
<p>Python launch files are most common for complex systems.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="python-launch-file-structure">Python Launch File Structure<a href="#python-launch-file-structure" class="hash-link" aria-label="Direct link to Python Launch File Structure" title="Direct link to Python Launch File Structure" translate="no">​</a></h3>
<p>A basic Python launch file:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> launch </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> LaunchDescription</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> launch_ros</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">actions </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Node</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">generate_launch_description</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> LaunchDescription</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Node</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            package</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;camera_driver&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            executable</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;camera_node&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;camera&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            parameters</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">&#x27;frame_rate&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">&#x27;resolution&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;1920x1080&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Node</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            package</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;object_detection&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            executable</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;detector_node&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;detector&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            parameters</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;confidence_threshold&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.8</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            remappings</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;/image&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;/camera/image_raw&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>This starts a camera node and detector node with specified parameters and topic remapping.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="launch-file-composition">Launch File Composition<a href="#launch-file-composition" class="hash-link" aria-label="Direct link to Launch File Composition" title="Direct link to Launch File Composition" translate="no">​</a></h3>
<p>Complex systems use composition—including other launch files:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> launch </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> LaunchDescription</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> launch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">actions </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> IncludeLaunchDescription</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> launch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">launch_description_sources </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> PythonLaunchDescriptionSource</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">generate_launch_description</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> LaunchDescription</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        IncludeLaunchDescription</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            PythonLaunchDescriptionSource</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;sensors.launch.py&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        IncludeLaunchDescription</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            PythonLaunchDescriptionSource</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;perception.launch.py&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        IncludeLaunchDescription</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            PythonLaunchDescriptionSource</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;planning.launch.py&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>This modular approach separates concerns: <code>sensors.launch.py</code> starts sensors, <code>perception.launch.py</code> starts perception nodes, etc. You can test each layer independently.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="conditional-launching">Conditional Launching<a href="#conditional-launching" class="hash-link" aria-label="Direct link to Conditional Launching" title="Direct link to Conditional Launching" translate="no">​</a></h3>
<p>Launch files support conditional logic:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> launch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">conditions </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> IfCondition</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> launch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">substitutions </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> LaunchConfiguration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">generate_launch_description</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    use_sim </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> LaunchConfiguration</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;use_sim&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> default</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;false&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> LaunchDescription</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        DeclareLaunchArgument</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;use_sim&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Node</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            package</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;gazebo_ros&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            executable</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;spawn_entity&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            condition</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">IfCondition</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">use_sim</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># Only launch in simulation</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Node</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            package</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;hardware_interface&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            executable</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;robot_hw_node&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            condition</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">UnlessCondition</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">use_sim</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># Only launch on real hardware</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>This allows one launch file to work in simulation and on real hardware.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="launch-file-best-practices">Launch File Best Practices<a href="#launch-file-best-practices" class="hash-link" aria-label="Direct link to Launch File Best Practices" title="Direct link to Launch File Best Practices" translate="no">​</a></h3>
<p><strong>Parameterize:</strong> Use launch arguments rather than hardcoding values.</p>
<p><strong>Compose:</strong> Break large launch files into smaller, reusable pieces.</p>
<p><strong>Document:</strong> Add comments explaining what each section does.</p>
<p><strong>Test Incrementally:</strong> Start with one node, verify, then add more.</p>
<p><strong>Use Namespaces:</strong> Organize nodes into namespaces for clarity.</p>
<p><strong>Handle Errors:</strong> Consider what happens if nodes fail to start.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="parameter-management">Parameter Management<a href="#parameter-management" class="hash-link" aria-label="Direct link to Parameter Management" title="Direct link to Parameter Management" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-are-parameters">What are Parameters?<a href="#what-are-parameters" class="hash-link" aria-label="Direct link to What are Parameters?" title="Direct link to What are Parameters?" translate="no">​</a></h3>
<p>Parameters configure node behavior without recompiling:</p>
<p><strong>Runtime Configuration:</strong> Change settings without code changes.</p>
<p><strong>Environment Adaptation:</strong> Different parameters for simulation vs. hardware.</p>
<p><strong>Tuning:</strong> Adjust control gains, thresholds, timeouts during development.</p>
<p><strong>Multi-Instance:</strong> Same node with different parameters for different sensors.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="parameter-types">Parameter Types<a href="#parameter-types" class="hash-link" aria-label="Direct link to Parameter Types" title="Direct link to Parameter Types" translate="no">​</a></h3>
<p>ROS 2 supports several parameter types:</p>
<p><strong>Boolean:</strong> true/false flags
<strong>Integer:</strong> Whole numbers
<strong>Double:</strong> Floating-point numbers
<strong>String:</strong> Text values
<strong>Arrays:</strong> Lists of values (integer, double, string arrays)
<strong>Byte Arrays:</strong> Binary data</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="parameter-declaration">Parameter Declaration<a href="#parameter-declaration" class="hash-link" aria-label="Direct link to Parameter Declaration" title="Direct link to Parameter Declaration" translate="no">​</a></h3>
<p>Nodes must declare parameters before using them:</p>
<p><strong>Conceptual Process:</strong></p>
<ol>
<li class="">Node declares parameter with name, type, and optional default</li>
<li class="">ROS 2 checks if parameter was set externally (launch file, command line)</li>
<li class="">If set externally, use that value; otherwise use default</li>
<li class="">Node accesses parameter value during execution</li>
</ol>
<p><strong>Static vs. Dynamic:</strong></p>
<ul>
<li class=""><strong>Static Parameters:</strong> Cannot change after node starts. Set once at initialization.</li>
<li class=""><strong>Dynamic Parameters:</strong> Can be modified while node runs. Node must handle changes.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="parameter-sources">Parameter Sources<a href="#parameter-sources" class="hash-link" aria-label="Direct link to Parameter Sources" title="Direct link to Parameter Sources" translate="no">​</a></h3>
<p>Parameters can come from multiple sources (in priority order):</p>
<ol>
<li class="">
<p><strong>Command Line:</strong> Highest priority</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ros2 run pkg node --ros-args -p param:=value</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>Launch Files:</strong> Python, XML, or YAML launch files</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">parameters</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;my_param&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">42</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>YAML Files:</strong> Loaded by launch file</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">node_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">ros__parameters</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">my_param</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">42</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>Default Values:</strong> Declared in node code</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">declare_parameter(&#x27;my_param&#x27;, 42)</span><br></span></code></pre></div></div>
</li>
</ol>
<p>This hierarchy allows setting defaults in code, common values in YAML, and overrides in launch files or command line.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="parameter-yaml-files">Parameter YAML Files<a href="#parameter-yaml-files" class="hash-link" aria-label="Direct link to Parameter YAML Files" title="Direct link to Parameter YAML Files" translate="no">​</a></h3>
<p>YAML files organize parameters hierarchically:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">/camera_node</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">ros__parameters</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">frame_rate</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">resolution</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1920x1080&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">auto_exposure</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">exposure_value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">/detector_node</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">ros__parameters</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">confidence_threshold</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.8</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">max_detections</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">model_path</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/models/detector.onnx&quot;</span><br></span></code></pre></div></div>
<p>The namespace (<code>/camera_node</code>) matches the node name, ensuring parameters go to the correct node.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="dynamic-reconfiguration">Dynamic Reconfiguration<a href="#dynamic-reconfiguration" class="hash-link" aria-label="Direct link to Dynamic Reconfiguration" title="Direct link to Dynamic Reconfiguration" translate="no">​</a></h3>
<p>Some parameters can change at runtime:</p>
<p><strong>Parameter Callbacks:</strong> Nodes register callbacks invoked when parameters change.</p>
<p><strong>Validation:</strong> Callbacks can reject invalid values.</p>
<p><strong>State Updates:</strong> Node updates internal state based on new parameter values.</p>
<p><strong>Example Use Cases:</strong></p>
<ul>
<li class="">Adjusting camera exposure while running</li>
<li class="">Tuning PID control gains during testing</li>
<li class="">Changing detection thresholds based on lighting</li>
<li class="">Enabling/disabling debug output</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="parameter-best-practices">Parameter Best Practices<a href="#parameter-best-practices" class="hash-link" aria-label="Direct link to Parameter Best Practices" title="Direct link to Parameter Best Practices" translate="no">​</a></h3>
<p><strong>Use Descriptive Names:</strong> <code>camera_frame_rate</code> better than <code>cfr</code>.</p>
<p><strong>Provide Defaults:</strong> Every parameter should have a sensible default.</p>
<p><strong>Document Parameters:</strong> Explain what each parameter does, units, valid ranges.</p>
<p><strong>Validate Values:</strong> Check for valid ranges, don&#x27;t assume correctness.</p>
<p><strong>Group Related Parameters:</strong> Use consistent naming schemes for related parameters.</p>
<p><strong>Version Parameters:</strong> Include parameter file version for compatibility tracking.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="build-system-colcon-concepts">Build System: Colcon Concepts<a href="#build-system-colcon-concepts" class="hash-link" aria-label="Direct link to Build System: Colcon Concepts" title="Direct link to Build System: Colcon Concepts" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-is-colcon">What is Colcon?<a href="#what-is-colcon" class="hash-link" aria-label="Direct link to What is Colcon?" title="Direct link to What is Colcon?" translate="no">​</a></h3>
<p>Colcon is ROS 2&#x27;s build tool. It:</p>
<ul>
<li class="">Discovers packages in workspace</li>
<li class="">Determines build order based on dependencies</li>
<li class="">Invokes appropriate build system for each package (CMake, Python setuptools)</li>
<li class="">Manages installation and environment setup</li>
<li class="">Supports parallel builds for speed</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="build-process-overview">Build Process Overview<a href="#build-process-overview" class="hash-link" aria-label="Direct link to Build Process Overview" title="Direct link to Build Process Overview" translate="no">​</a></h3>
<p>When you run <code>colcon build</code>, several steps occur:</p>
<p><strong>Discovery:</strong> Colcon scans <code>src/</code> directory for packages (identified by <code>package.xml</code>).</p>
<p><strong>Dependency Resolution:</strong> Reads <code>package.xml</code> to determine package dependencies and build order.</p>
<p><strong>Build Planning:</strong> Determines which packages can build in parallel (no dependency between them).</p>
<p><strong>Build Execution:</strong> For each package:</p>
<ol>
<li class="">Generate build files (CMake, setuptools)</li>
<li class="">Compile source code</li>
<li class="">Link libraries and executables</li>
<li class="">Run build-time tests (optional)</li>
<li class="">Install to <code>install/</code> directory</li>
</ol>
<p><strong>Environment Setup:</strong> Generate setup scripts that configure environment to use built packages.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="dependency-management">Dependency Management<a href="#dependency-management" class="hash-link" aria-label="Direct link to Dependency Management" title="Direct link to Dependency Management" translate="no">​</a></h3>
<p>Package dependencies ensure correct build order:</p>
<p><strong>Build Dependencies:</strong> Required to compile the package.</p>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">build_depend</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">rclcpp</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">build_depend</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre></div></div>
<p><strong>Execution Dependencies:</strong> Required to run the package.</p>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">exec_depend</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">sensor_msgs</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">exec_depend</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre></div></div>
<p><strong>Build and Execution:</strong> Required for both.</p>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">depend</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">geometry_msgs</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">depend</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre></div></div>
<p>Colcon ensures packages are built after their dependencies.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="incremental-builds">Incremental Builds<a href="#incremental-builds" class="hash-link" aria-label="Direct link to Incremental Builds" title="Direct link to Incremental Builds" translate="no">​</a></h3>
<p>Colcon performs incremental builds—only rebuilding changed packages:</p>
<p><strong>Change Detection:</strong> Tracks file modification times.</p>
<p><strong>Selective Rebuild:</strong> Only rebuilds packages with changes and packages depending on them.</p>
<p><strong>Speed Improvement:</strong> Avoids unnecessary recompilation.</p>
<p><strong>Force Rebuild:</strong> Can force rebuild of specific packages if needed.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="build-profiles-and-options">Build Profiles and Options<a href="#build-profiles-and-options" class="hash-link" aria-label="Direct link to Build Profiles and Options" title="Direct link to Build Profiles and Options" translate="no">​</a></h3>
<p>Colcon supports build customization:</p>
<p><strong>Debug vs. Release:</strong> Different optimization levels</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">colcon build --cmake-args -DCMAKE_BUILD_TYPE=Release</span><br></span></code></pre></div></div>
<p><strong>Parallel Jobs:</strong> Control number of parallel builds</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">colcon build --parallel-workers 4</span><br></span></code></pre></div></div>
<p><strong>Specific Packages:</strong> Build only certain packages</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">colcon build --packages-select my_package</span><br></span></code></pre></div></div>
<p><strong>Symlink Install:</strong> For Python, link instead of copy for faster iteration</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">colcon build --symlink-install</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="workspace-overlay">Workspace Overlay<a href="#workspace-overlay" class="hash-link" aria-label="Direct link to Workspace Overlay" title="Direct link to Workspace Overlay" translate="no">​</a></h3>
<p>ROS 2 supports workspace overlaying—building workspace that extends another:</p>
<p><strong>Underlay:</strong> Base workspace (often ROS 2 installation)</p>
<p><strong>Overlay:</strong> Your workspace, adds/overrides packages</p>
<p><strong>Sourcing Order:</strong></p>
<ol>
<li class="">Source underlay: <code>source /opt/ros/humble/setup.bash</code></li>
<li class="">Build overlay: <code>colcon build</code></li>
<li class="">Source overlay: <code>source install/setup.bash</code></li>
</ol>
<p>This allows working with stable base ROS 2 while developing custom packages in overlay.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="multi-node-system-design">Multi-Node System Design<a href="#multi-node-system-design" class="hash-link" aria-label="Direct link to Multi-Node System Design" title="Direct link to Multi-Node System Design" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="design-principles">Design Principles<a href="#design-principles" class="hash-link" aria-label="Direct link to Design Principles" title="Direct link to Design Principles" translate="no">​</a></h3>
<p>Effective multi-node systems follow key principles:</p>
<p><strong>Modularity:</strong> Each node has single, well-defined responsibility.</p>
<p><strong>Loose Coupling:</strong> Nodes interact through well-defined interfaces (topics, services, actions).</p>
<p><strong>Fault Isolation:</strong> Node failures don&#x27;t cascade to entire system.</p>
<p><strong>Scalability:</strong> Can add nodes without redesigning system.</p>
<p><strong>Testability:</strong> Individual nodes can be tested in isolation.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="decomposition-strategies">Decomposition Strategies<a href="#decomposition-strategies" class="hash-link" aria-label="Direct link to Decomposition Strategies" title="Direct link to Decomposition Strategies" translate="no">​</a></h3>
<p>How to divide functionality into nodes:</p>
<p><strong>By Hardware:</strong> One node per sensor or actuator.</p>
<ul>
<li class="">Advantages: Hardware abstraction, easy to swap hardware</li>
<li class="">Example: <code>camera_node</code>, <code>lidar_node</code>, <code>motor_controller_node</code></li>
</ul>
<p><strong>By Function:</strong> One node per logical function.</p>
<ul>
<li class="">Advantages: Clear responsibilities, reusable</li>
<li class="">Example: <code>object_detector</code>, <code>path_planner</code>, <code>localizer</code></li>
</ul>
<p><strong>By Frequency:</strong> Nodes grouped by update rate.</p>
<ul>
<li class="">Advantages: Efficient scheduling, real-time support</li>
<li class="">Example: <code>high_freq_controller</code> (1kHz), <code>planner</code> (10Hz), <code>ui</code> (1Hz)</li>
</ul>
<p><strong>Hybrid:</strong> Combine strategies as appropriate.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="communication-architecture">Communication Architecture<a href="#communication-architecture" class="hash-link" aria-label="Direct link to Communication Architecture" title="Direct link to Communication Architecture" translate="no">​</a></h3>
<p>Design communication patterns carefully:</p>
<p><strong>Data Flow:</strong> Understand how data flows through system. Draw diagrams showing topic connections.</p>
<p><strong>Latency Budget:</strong> Know maximum acceptable latency for each path. Camera→Detector→Planner→Controller.</p>
<p><strong>Bandwidth Requirements:</strong> High-resolution images require more bandwidth than pose estimates.</p>
<p><strong>QoS Selection:</strong> Match QoS to requirements. Commands need reliability, sensor streams can use best-effort.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="namespace-organization">Namespace Organization<a href="#namespace-organization" class="hash-link" aria-label="Direct link to Namespace Organization" title="Direct link to Namespace Organization" translate="no">​</a></h3>
<p>Organize nodes into logical namespaces:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/robot1/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /sensors/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /camera/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      /front/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - image_raw</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - camera_info</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      /rear/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - image_raw</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - camera_info</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /lidar/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - scan</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /perception/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - detections</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - obstacles</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /planning/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - path</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /control/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - cmd_vel</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - joint_commands</span><br></span></code></pre></div></div>
<p>Namespaces prevent naming conflicts and clarify system structure.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="lifecycle-management">Lifecycle Management<a href="#lifecycle-management" class="hash-link" aria-label="Direct link to Lifecycle Management" title="Direct link to Lifecycle Management" translate="no">​</a></h3>
<p>Managing node startup and shutdown:</p>
<p><strong>Startup Order:</strong> Some nodes depend on others being ready (e.g., planners need localization).</p>
<p><strong>Health Monitoring:</strong> Detect when nodes fail and restart or alert.</p>
<p><strong>Graceful Shutdown:</strong> Ensure nodes clean up resources properly.</p>
<p><strong>State Synchronization:</strong> Ensure consistent system state during transitions.</p>
<p><strong>Launch Files:</strong> Encode startup order and dependencies.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="system-level-design-example">System-Level Design Example<a href="#system-level-design-example" class="hash-link" aria-label="Direct link to System-Level Design Example" title="Direct link to System-Level Design Example" translate="no">​</a></h3>
<p>Humanoid robot navigation system:</p>
<p><strong>Sensor Layer:</strong></p>
<ul>
<li class=""><code>camera_driver</code>: Publishes <code>/camera/image_raw</code></li>
<li class=""><code>imu_driver</code>: Publishes <code>/imu/data</code></li>
<li class=""><code>lidar_driver</code>: Publishes <code>/scan</code></li>
</ul>
<p><strong>Perception Layer:</strong></p>
<ul>
<li class=""><code>visual_odometry</code>: Subscribes <code>/camera/image_raw</code>, <code>/imu/data</code>; publishes <code>/vo/odom</code></li>
<li class=""><code>scan_matcher</code>: Subscribes <code>/scan</code>; publishes <code>/scan_odom</code></li>
<li class=""><code>sensor_fusion</code>: Subscribes <code>/vo/odom</code>, <code>/scan_odom</code>; publishes <code>/odometry</code></li>
</ul>
<p><strong>Planning Layer:</strong></p>
<ul>
<li class=""><code>global_planner</code>: Action server <code>/navigate_to_pose</code>; publishes <code>/global_plan</code></li>
<li class=""><code>local_planner</code>: Subscribes <code>/global_plan</code>, <code>/odometry</code>, <code>/scan</code>; publishes <code>/cmd_vel</code></li>
</ul>
<p><strong>Control Layer:</strong></p>
<ul>
<li class=""><code>motor_controller</code>: Subscribes <code>/cmd_vel</code>; publishes <code>/joint_states</code></li>
</ul>
<p>Each layer builds on previous layer, data flowing sensors→perception→planning→control.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="conceptual-diagrams">Conceptual Diagrams<a href="#conceptual-diagrams" class="hash-link" aria-label="Direct link to Conceptual Diagrams" title="Direct link to Conceptual Diagrams" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="diagram-1-package-structure">Diagram 1: Package Structure<a href="#diagram-1-package-structure" class="hash-link" aria-label="Direct link to Diagram 1: Package Structure" title="Direct link to Diagram 1: Package Structure" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ROS 2 Package Anatomy:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">my_robot_package/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── Package Metadata</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── package.xml (dependencies, version, license)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── CMakeLists.txt / setup.py (build instructions)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── Source Code</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── src/ (C++ implementations)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── include/ (C++ headers)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── my_robot_package/ (Python modules)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── Interfaces</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── msg/ (custom message types)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── srv/ (custom service types)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── action/ (custom action types)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── Configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── launch/ (launch files)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── config/ (parameter YAML files)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── urdf/ (robot descriptions)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── Testing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    └── test/ (unit and integration tests)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Package relationships:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[Package A] ──depends on──&gt; [Package B]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     ↓                           ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> [builds after]           [builds first]</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="diagram-2-publisher-subscriber-flow">Diagram 2: Publisher-Subscriber Flow<a href="#diagram-2-publisher-subscriber-flow" class="hash-link" aria-label="Direct link to Diagram 2: Publisher-Subscriber Flow" title="Direct link to Diagram 2: Publisher-Subscriber Flow" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Publisher-Subscriber Detailed Flow:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Publisher Side:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[Node Code]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[create_publisher(topic, type, qos)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[DDS registers publisher]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[DDS advertises on network]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     ↓ (discovery protocol)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[DDS finds compatible subscribers]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[DDS establishes connection]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[publish(message)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[Serialize message to bytes]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[DDS transmits (UDP/shared memory)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Subscriber Side:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[Node Code]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[create_subscription(topic, type, callback, qos)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[DDS registers subscriber]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[DDS advertises on network]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     ↓ (discovery protocol)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[DDS finds compatible publishers]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[DDS establishes connection]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[DDS receives bytes]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[Deserialize to message object]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[Invoke callback(message)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[User callback executes]</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="diagram-3-communication-pattern-selection">Diagram 3: Communication Pattern Selection<a href="#diagram-3-communication-pattern-selection" class="hash-link" aria-label="Direct link to Diagram 3: Communication Pattern Selection" title="Direct link to Diagram 3: Communication Pattern Selection" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Decision Tree for Communication Pattern:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Start: Need communication between nodes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Question: Is this continuous data stream?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ├─ Yes → USE TOPIC</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │         Examples: sensor data, state, commands</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   └─ No → Question: Is this a long-running task?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           ├─ Yes → USE ACTION</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           │         Examples: navigation, manipulation, trajectories</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           └─ No → USE SERVICE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                     Examples: config changes, queries, computations</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Topic Characteristics:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ✓ Continuous/streaming</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ✓ Latest value matters</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ✓ One-to-many</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ✓ Asynchronous</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ✗ No confirmation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ✗ No feedback</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Service Characteristics:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ✓ Request-response</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ✓ Confirmation needed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ✓ Quick execution</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ✓ Synchronous</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ✗ One-to-one only</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ✗ Blocking</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ✗ No progress updates</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Action Characteristics:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ✓ Long-running</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ✓ Progress feedback</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ✓ Cancellable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ✓ Asynchronous</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ✓ Confirmation (result)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ✗ More complex</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ✗ One-to-one only</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="diagram-4-launch-system-hierarchy">Diagram 4: Launch System Hierarchy<a href="#diagram-4-launch-system-hierarchy" class="hash-link" aria-label="Direct link to Diagram 4: Launch System Hierarchy" title="Direct link to Diagram 4: Launch System Hierarchy" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Launch File Composition:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">main.launch.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── sensors.launch.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── Node: camera_driver</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     ├── Node: lidar_driver</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── Node: imu_driver</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── perception.launch.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── Include: object_detection.launch.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── Node: detector</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   └── Node: tracker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── Include: localization.launch.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       ├── Node: visual_odometry</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       └── Node: sensor_fusion</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── control.launch.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── Node: motor_controller</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── Node: safety_monitor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    └── Include: robot_description.launch.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        └── Node: robot_state_publisher</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Execution:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1. Parse main.launch.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2. Recursively include all sub-launch files</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3. Resolve all parameters and remappings</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4. Start nodes in dependency order</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5. Monitor node health</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="diagram-5-multi-node-system-architecture">Diagram 5: Multi-Node System Architecture<a href="#diagram-5-multi-node-system-architecture" class="hash-link" aria-label="Direct link to Diagram 5: Multi-Node System Architecture" title="Direct link to Diagram 5: Multi-Node System Architecture" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Humanoid Robot Multi-Node System:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Sensor Nodes:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────┐  ┌─────────┐  ┌─────────┐  ┌─────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ Camera  │  │  LiDAR  │  │   IMU   │  │  Force  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└────┬────┘  └────┬────┘  └────┬────┘  └────┬────┘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     │            │            │            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     └────────────┴────────────┴────────────┘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      ↓ (topics)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              Perception Nodes:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     ┌────────────────┬────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     ↓                ↓                ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────┐  ┌──────────────┐  ┌───────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ Detector│  │ Localization │  │Point Cloud│</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└────┬────┘  └──────┬───────┘  └─────┬─────┘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     │              │                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     └──────────────┴─────────────────┘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    ↓ (topics)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           Planning Nodes:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     ┌──────────────┬──────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     ↓              ↓              ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────┐  ┌────────────┐  ┌─────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ Global  │  │   Local    │  │  Task   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ Planner │  │  Planner   │  │ Planner │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└────┬────┘  └─────┬──────┘  └────┬────┘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     │             │              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     └─────────────┴──────────────┘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                   ↓ (actions, topics)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          Control Nodes:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     ┌─────────────┬──────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     ↓             ↓              ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">┌──────────┐  ┌─────────┐  ┌──────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  Joint   │  │ Balance │  │  Safety  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│Controller│  │Controller│  │ Monitor  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────┬────┘  └────┬────┘  └────┬─────┘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      │            │            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      └────────────┴────────────┘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                   ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            [Hardware Interface]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                   ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              [Robot Motors]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Data Flow: Sensors → Perception → Planning → Control → Hardware</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="key-concepts-summary">Key Concepts Summary<a href="#key-concepts-summary" class="hash-link" aria-label="Direct link to Key Concepts Summary" title="Direct link to Key Concepts Summary" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="package">Package<a href="#package" class="hash-link" aria-label="Direct link to Package" title="Direct link to Package" translate="no">​</a></h3>
<p>Fundamental organizational unit containing nodes, launch files, configuration, and dependencies. Encapsulates related functionality.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="publisher">Publisher<a href="#publisher" class="hash-link" aria-label="Direct link to Publisher" title="Direct link to Publisher" translate="no">​</a></h3>
<p>Component that produces data on a topic. Announces topic and type, serializes messages, sends via DDS.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="subscriber">Subscriber<a href="#subscriber" class="hash-link" aria-label="Direct link to Subscriber" title="Direct link to Subscriber" translate="no">​</a></h3>
<p>Component that consumes data from a topic. Registers interest, receives messages, invokes callbacks.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="launch-file">Launch File<a href="#launch-file" class="hash-link" aria-label="Direct link to Launch File" title="Direct link to Launch File" translate="no">​</a></h3>
<p>Script that starts multiple nodes with configuration, parameters, and remappings. Enables one-command system startup.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="parameter">Parameter<a href="#parameter" class="hash-link" aria-label="Direct link to Parameter" title="Direct link to Parameter" translate="no">​</a></h3>
<p>Runtime configuration value. Can be static (set at startup) or dynamic (changeable during execution).</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="colcon">Colcon<a href="#colcon" class="hash-link" aria-label="Direct link to Colcon" title="Direct link to Colcon" translate="no">​</a></h3>
<p>Build tool that discovers packages, resolves dependencies, invokes build systems, and manages installation.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="namespace">Namespace<a href="#namespace" class="hash-link" aria-label="Direct link to Namespace" title="Direct link to Namespace" translate="no">​</a></h3>
<p>Hierarchical naming scheme for organizing topics, services, and nodes. Prevents naming conflicts.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="workspace">Workspace<a href="#workspace" class="hash-link" aria-label="Direct link to Workspace" title="Direct link to Workspace" translate="no">​</a></h3>
<p>Directory containing source, build, and install spaces for ROS 2 packages. Supports overlaying for extending functionality.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="knowledge-checkpoint">Knowledge Checkpoint<a href="#knowledge-checkpoint" class="hash-link" aria-label="Direct link to Knowledge Checkpoint" title="Direct link to Knowledge Checkpoint" translate="no">​</a></h2>
<p>Test your understanding of this chapter&#x27;s concepts:</p>
<ol>
<li class="">
<p><strong>Package Organization:</strong></p>
<ul>
<li class="">Why is single responsibility important for package design?</li>
<li class="">You&#x27;re building a camera driver that also performs image processing. Should this be one package or two? Justify your answer.</li>
<li class="">Explain the purpose of <code>package.xml</code> and why dependencies must be declared accurately.</li>
</ul>
</li>
<li class="">
<p><strong>Communication Patterns:</strong></p>
<ul>
<li class="">A humanoid robot must continuously send joint position updates to a visualization tool. Which communication pattern and why?</li>
<li class="">A planning node needs to compute inverse kinematics for a target pose. The computation takes 50ms. Which communication pattern and why?</li>
<li class="">A robot navigates to a goal 20 meters away, taking 30 seconds. You want progress updates every second and ability to cancel. Which communication pattern?</li>
</ul>
</li>
<li class="">
<p><strong>Publishers and Subscribers:</strong></p>
<ul>
<li class="">Explain how DDS enables publishers and subscribers to find each other without a central master.</li>
<li class="">Why is message serialization necessary for network communication?</li>
<li class="">What happens if a subscriber has &quot;Reliable&quot; QoS but the publisher has &quot;Best Effort&quot; QoS?</li>
</ul>
</li>
<li class="">
<p><strong>Launch Systems:</strong></p>
<ul>
<li class="">You have 15 nodes to start for your humanoid robot. Why use a launch file instead of manually starting each node?</li>
<li class="">Explain the benefits of composing launch files (including other launch files) versus one monolithic launch file.</li>
<li class="">How would you use conditional launching to start different nodes in simulation versus on real hardware?</li>
</ul>
</li>
<li class="">
<p><strong>Parameters:</strong></p>
<ul>
<li class="">What is the advantage of using parameters versus hardcoding values in node source code?</li>
<li class="">Explain the parameter priority hierarchy (command line, launch file, YAML file, default).</li>
<li class="">When would you use dynamic parameters that can change at runtime versus static parameters set at startup?</li>
</ul>
</li>
<li class="">
<p><strong>Build System:</strong></p>
<ul>
<li class="">Why does colcon need to resolve package dependencies before building?</li>
<li class="">Explain the difference between build dependencies and execution dependencies.</li>
<li class="">What is workspace overlaying and why is it useful?</li>
</ul>
</li>
<li class="">
<p><strong>System Design:</strong></p>
<ul>
<li class="">Design the node structure for a humanoid robot that must detect objects, navigate around obstacles, and grasp target objects. Identify nodes, topics, services, and actions.</li>
<li class="">Should sensor drivers run in the same node as perception algorithms? Why or why not?</li>
<li class="">Explain how namespaces help organize a complex multi-robot system.</li>
</ul>
</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="chapter-summary">Chapter Summary<a href="#chapter-summary" class="hash-link" aria-label="Direct link to Chapter Summary" title="Direct link to Chapter Summary" translate="no">​</a></h2>
<p>This chapter explored building systems with ROS 2:</p>
<p><strong>Package Structure:</strong> Packages are the fundamental organizational unit, containing nodes, launch files, configuration, and interface definitions. Standard directory structure and naming conventions promote consistency and discoverability.</p>
<p><strong>Publishers and Subscribers:</strong> Topic-based communication uses DDS for discovery, serialization, and distribution. Publishers and subscribers are decoupled, enabling flexible many-to-many data flow. Zero-copy transport optimizes performance for large messages.</p>
<p><strong>Communication Pattern Selection:</strong> Topics for streaming data, services for request-response, actions for long-running tasks with feedback. Choosing appropriately is critical for system performance and maintainability.</p>
<p><strong>Launch Systems:</strong> Launch files automate starting multi-node systems with correct configuration. Composition, conditional launching, and parameterization enable reusable, flexible launch configurations.</p>
<p><strong>Parameter Management:</strong> Parameters enable runtime configuration without recompilation. YAML files, launch files, and command-line arguments provide flexible configuration sources. Dynamic parameters support runtime tuning.</p>
<p><strong>Build System:</strong> Colcon discovers packages, resolves dependencies, and orchestrates builds. Incremental building and parallel compilation optimize development workflows. Workspace overlaying extends base installations.</p>
<p><strong>Multi-Node Design:</strong> Effective systems decompose functionality into focused, loosely-coupled nodes. Careful communication architecture, namespace organization, and lifecycle management create robust, scalable systems.</p>
<p>These tools and patterns form the foundation for building the humanoid robot systems we develop in subsequent chapters.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="further-reading">Further Reading<a href="#further-reading" class="hash-link" aria-label="Direct link to Further Reading" title="Direct link to Further Reading" translate="no">​</a></h2>
<p><strong>Official Documentation:</strong></p>
<ul>
<li class="">ROS 2 Package Creation Tutorials</li>
<li class="">ROS 2 Launch System Documentation</li>
<li class="">Colcon Build System Guide</li>
<li class="">ROS 2 Design Patterns</li>
</ul>
<p><strong>Books:</strong></p>
<ul>
<li class="">&quot;A Concise Introduction to Robot Programming with ROS 2&quot; by Francisco Martín Rico</li>
<li class="">&quot;ROS 2 Cookbook&quot; (community resource)</li>
</ul>
<p><strong>Papers:</strong></p>
<ul>
<li class="">&quot;Design Patterns for Robot Programming with ROS&quot; (various authors)</li>
<li class="">&quot;ROS 2 Package Architecture Best Practices&quot;</li>
</ul>
<p><strong>Online Resources:</strong></p>
<ul>
<li class="">ROS 2 Examples and Demos (ros2/examples repository)</li>
<li class="">ROS 2 Launch File Examples</li>
<li class="">Parameter Management Tutorials</li>
</ul>
<p><strong>Community Resources:</strong></p>
<ul>
<li class="">ROS Discourse (community discussion)</li>
<li class="">ROS Answers (Q&amp;A)</li>
<li class="">GitHub ROS 2 repositories</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="looking-ahead">Looking Ahead<a href="#looking-ahead" class="hash-link" aria-label="Direct link to Looking Ahead" title="Direct link to Looking Ahead" translate="no">​</a></h2>
<p>With understanding of building systems in ROS 2, we now turn specifically to humanoid robots. The next chapter explores robot description formats (URDF), coordinate frame management (tf2), controller interfaces, and bridging AI agents to robot control. These humanoid-specific tools and patterns build on the ROS 2 foundation established in this chapter.</p></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/Physical-AI-Humanoid-Robotics/chapters/chapter-03-introduction-to-ros2"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Chapter 3: Introduction to ROS 2</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/Physical-AI-Humanoid-Robotics/chapters/chapter-05-ros2-for-humanoid-robots"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Chapter 5: ROS 2 for Humanoid Robots</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#learning-objectives" class="table-of-contents__link toc-highlight">Learning Objectives</a></li><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#ros-2-package-structure-and-organization" class="table-of-contents__link toc-highlight">ROS 2 Package Structure and Organization</a><ul><li><a href="#what-is-a-package" class="table-of-contents__link toc-highlight">What is a Package?</a></li><li><a href="#package-organization-principles" class="table-of-contents__link toc-highlight">Package Organization Principles</a></li><li><a href="#standard-package-structure" class="table-of-contents__link toc-highlight">Standard Package Structure</a></li><li><a href="#package-metadata-packagexml" class="table-of-contents__link toc-highlight">Package Metadata (package.xml)</a></li><li><a href="#workspace-organization" class="table-of-contents__link toc-highlight">Workspace Organization</a></li><li><a href="#package-naming-conventions" class="table-of-contents__link toc-highlight">Package Naming Conventions</a></li></ul></li><li><a href="#publishers-and-subscribers-how-they-work" class="table-of-contents__link toc-highlight">Publishers and Subscribers: How They Work</a><ul><li><a href="#the-publish-subscribe-pattern" class="table-of-contents__link toc-highlight">The Publish-Subscribe Pattern</a></li><li><a href="#publisher-lifecycle" class="table-of-contents__link toc-highlight">Publisher Lifecycle</a></li><li><a href="#subscriber-lifecycle" class="table-of-contents__link toc-highlight">Subscriber Lifecycle</a></li><li><a href="#message-serialization-and-deserialization" class="table-of-contents__link toc-highlight">Message Serialization and Deserialization</a></li><li><a href="#zero-copy-communication" class="table-of-contents__link toc-highlight">Zero-Copy Communication</a></li><li><a href="#topic-namespaces-and-remapping" class="table-of-contents__link toc-highlight">Topic Namespaces and Remapping</a></li></ul></li><li><a href="#services-vs-topics-vs-actions-when-to-use-each" class="table-of-contents__link toc-highlight">Services vs Topics vs Actions: When to Use Each</a><ul><li><a href="#decision-framework" class="table-of-contents__link toc-highlight">Decision Framework</a></li><li><a href="#topic-use-cases" class="table-of-contents__link toc-highlight">Topic Use Cases</a></li><li><a href="#service-use-cases" class="table-of-contents__link toc-highlight">Service Use Cases</a></li><li><a href="#action-use-cases" class="table-of-contents__link toc-highlight">Action Use Cases</a></li><li><a href="#comparison-table" class="table-of-contents__link toc-highlight">Comparison Table</a></li><li><a href="#hybrid-patterns" class="table-of-contents__link toc-highlight">Hybrid Patterns</a></li></ul></li><li><a href="#launch-system-architecture" class="table-of-contents__link toc-highlight">Launch System Architecture</a><ul><li><a href="#why-launch-systems" class="table-of-contents__link toc-highlight">Why Launch Systems?</a></li><li><a href="#launch-file-anatomy" class="table-of-contents__link toc-highlight">Launch File Anatomy</a></li><li><a href="#launch-file-types" class="table-of-contents__link toc-highlight">Launch File Types</a></li><li><a href="#python-launch-file-structure" class="table-of-contents__link toc-highlight">Python Launch File Structure</a></li><li><a href="#launch-file-composition" class="table-of-contents__link toc-highlight">Launch File Composition</a></li><li><a href="#conditional-launching" class="table-of-contents__link toc-highlight">Conditional Launching</a></li><li><a href="#launch-file-best-practices" class="table-of-contents__link toc-highlight">Launch File Best Practices</a></li></ul></li><li><a href="#parameter-management" class="table-of-contents__link toc-highlight">Parameter Management</a><ul><li><a href="#what-are-parameters" class="table-of-contents__link toc-highlight">What are Parameters?</a></li><li><a href="#parameter-types" class="table-of-contents__link toc-highlight">Parameter Types</a></li><li><a href="#parameter-declaration" class="table-of-contents__link toc-highlight">Parameter Declaration</a></li><li><a href="#parameter-sources" class="table-of-contents__link toc-highlight">Parameter Sources</a></li><li><a href="#parameter-yaml-files" class="table-of-contents__link toc-highlight">Parameter YAML Files</a></li><li><a href="#dynamic-reconfiguration" class="table-of-contents__link toc-highlight">Dynamic Reconfiguration</a></li><li><a href="#parameter-best-practices" class="table-of-contents__link toc-highlight">Parameter Best Practices</a></li></ul></li><li><a href="#build-system-colcon-concepts" class="table-of-contents__link toc-highlight">Build System: Colcon Concepts</a><ul><li><a href="#what-is-colcon" class="table-of-contents__link toc-highlight">What is Colcon?</a></li><li><a href="#build-process-overview" class="table-of-contents__link toc-highlight">Build Process Overview</a></li><li><a href="#dependency-management" class="table-of-contents__link toc-highlight">Dependency Management</a></li><li><a href="#incremental-builds" class="table-of-contents__link toc-highlight">Incremental Builds</a></li><li><a href="#build-profiles-and-options" class="table-of-contents__link toc-highlight">Build Profiles and Options</a></li><li><a href="#workspace-overlay" class="table-of-contents__link toc-highlight">Workspace Overlay</a></li></ul></li><li><a href="#multi-node-system-design" class="table-of-contents__link toc-highlight">Multi-Node System Design</a><ul><li><a href="#design-principles" class="table-of-contents__link toc-highlight">Design Principles</a></li><li><a href="#decomposition-strategies" class="table-of-contents__link toc-highlight">Decomposition Strategies</a></li><li><a href="#communication-architecture" class="table-of-contents__link toc-highlight">Communication Architecture</a></li><li><a href="#namespace-organization" class="table-of-contents__link toc-highlight">Namespace Organization</a></li><li><a href="#lifecycle-management" class="table-of-contents__link toc-highlight">Lifecycle Management</a></li><li><a href="#system-level-design-example" class="table-of-contents__link toc-highlight">System-Level Design Example</a></li></ul></li><li><a href="#conceptual-diagrams" class="table-of-contents__link toc-highlight">Conceptual Diagrams</a><ul><li><a href="#diagram-1-package-structure" class="table-of-contents__link toc-highlight">Diagram 1: Package Structure</a></li><li><a href="#diagram-2-publisher-subscriber-flow" class="table-of-contents__link toc-highlight">Diagram 2: Publisher-Subscriber Flow</a></li><li><a href="#diagram-3-communication-pattern-selection" class="table-of-contents__link toc-highlight">Diagram 3: Communication Pattern Selection</a></li><li><a href="#diagram-4-launch-system-hierarchy" class="table-of-contents__link toc-highlight">Diagram 4: Launch System Hierarchy</a></li><li><a href="#diagram-5-multi-node-system-architecture" class="table-of-contents__link toc-highlight">Diagram 5: Multi-Node System Architecture</a></li></ul></li><li><a href="#key-concepts-summary" class="table-of-contents__link toc-highlight">Key Concepts Summary</a><ul><li><a href="#package" class="table-of-contents__link toc-highlight">Package</a></li><li><a href="#publisher" class="table-of-contents__link toc-highlight">Publisher</a></li><li><a href="#subscriber" class="table-of-contents__link toc-highlight">Subscriber</a></li><li><a href="#launch-file" class="table-of-contents__link toc-highlight">Launch File</a></li><li><a href="#parameter" class="table-of-contents__link toc-highlight">Parameter</a></li><li><a href="#colcon" class="table-of-contents__link toc-highlight">Colcon</a></li><li><a href="#namespace" class="table-of-contents__link toc-highlight">Namespace</a></li><li><a href="#workspace" class="table-of-contents__link toc-highlight">Workspace</a></li></ul></li><li><a href="#knowledge-checkpoint" class="table-of-contents__link toc-highlight">Knowledge Checkpoint</a></li><li><a href="#chapter-summary" class="table-of-contents__link toc-highlight">Chapter Summary</a></li><li><a href="#further-reading" class="table-of-contents__link toc-highlight">Further Reading</a></li><li><a href="#looking-ahead" class="table-of-contents__link toc-highlight">Looking Ahead</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Course</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Physical-AI-Humanoid-Robotics/">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/Physical-AI-Humanoid-Robotics/chapters/chapter-01-introduction-to-physical-ai">Foundations</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://panaversity.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Panaversity<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://docs.ros.org/en/humble/" target="_blank" rel="noopener noreferrer" class="footer__link-item">ROS 2 Documentation<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://developer.nvidia.com/isaac-ros" target="_blank" rel="noopener noreferrer" class="footer__link-item">NVIDIA Isaac<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/muskaanfayyaz/Physical-AI-Humanoid-Robotics" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Panaversity. Built with Docusaurus.</div></div></div></footer><button class="rag-chatbot-toggle" aria-label="Toggle chatbot">💬</button></div>
</body>
</html>
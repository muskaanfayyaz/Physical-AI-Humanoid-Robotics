<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-chapters/appendix-d-mathematical-foundations" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Appendix D: Mathematical Foundations | Physical AI &amp; Humanoid Robotics</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://muskaanfayyaz.github.io/Physical-AI-Humanoid-Robotics/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://muskaanfayyaz.github.io/Physical-AI-Humanoid-Robotics/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://muskaanfayyaz.github.io/Physical-AI-Humanoid-Robotics/chapters/appendix-d-mathematical-foundations"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Appendix D: Mathematical Foundations | Physical AI &amp; Humanoid Robotics"><meta data-rh="true" name="description" content="This appendix covers essential mathematical concepts for robotics, including linear algebra, rotation representations, transformations, and dynamics. These foundations underpin kinematics, control, and motion planning algorithms."><meta data-rh="true" property="og:description" content="This appendix covers essential mathematical concepts for robotics, including linear algebra, rotation representations, transformations, and dynamics. These foundations underpin kinematics, control, and motion planning algorithms."><link data-rh="true" rel="icon" href="/Physical-AI-Humanoid-Robotics/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://muskaanfayyaz.github.io/Physical-AI-Humanoid-Robotics/chapters/appendix-d-mathematical-foundations"><link data-rh="true" rel="alternate" href="https://muskaanfayyaz.github.io/Physical-AI-Humanoid-Robotics/chapters/appendix-d-mathematical-foundations" hreflang="en"><link data-rh="true" rel="alternate" href="https://muskaanfayyaz.github.io/Physical-AI-Humanoid-Robotics/chapters/appendix-d-mathematical-foundations" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Appendix D: Mathematical Foundations","item":"https://muskaanfayyaz.github.io/Physical-AI-Humanoid-Robotics/chapters/appendix-d-mathematical-foundations"}]}</script><link rel="stylesheet" href="/Physical-AI-Humanoid-Robotics/assets/css/styles.f1b00d5d.css">
<script src="/Physical-AI-Humanoid-Robotics/assets/js/runtime~main.adb20441.js" defer="defer"></script>
<script src="/Physical-AI-Humanoid-Robotics/assets/js/main.3692ef3e.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Physical-AI-Humanoid-Robotics/"><div class="navbar__logo"><img src="/Physical-AI-Humanoid-Robotics/img/logo-transparent.png" alt="Physical AI Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/Physical-AI-Humanoid-Robotics/img/logo-transparent.png" alt="Physical AI Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Physical AI &amp; Humanoid Robotics</b></a><a class="navbar__item navbar__link" href="/Physical-AI-Humanoid-Robotics/">Textbook</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/muskaanfayyaz/Physical-AI-Humanoid-Robotics" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Physical-AI-Humanoid-Robotics/"><span title="About" class="linkLabel_WmDU">About</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Physical-AI-Humanoid-Robotics/chapters/chapter-01-introduction-to-physical-ai"><span title="Weeks 1-2: Foundations" class="categoryLinkLabel_W154">Weeks 1-2: Foundations</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Physical-AI-Humanoid-Robotics/chapters/chapter-03-introduction-to-ros2"><span title="Weeks 3-5: ROS 2 Fundamentals" class="categoryLinkLabel_W154">Weeks 3-5: ROS 2 Fundamentals</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Physical-AI-Humanoid-Robotics/chapters/chapter-06-physics-simulation-with-gazebo"><span title="Weeks 6-7: Simulation" class="categoryLinkLabel_W154">Weeks 6-7: Simulation</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Physical-AI-Humanoid-Robotics/chapters/chapter-08-nvidia-isaac-platform"><span title="Weeks 8-10: NVIDIA Isaac Platform" class="categoryLinkLabel_W154">Weeks 8-10: NVIDIA Isaac Platform</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Physical-AI-Humanoid-Robotics/chapters/chapter-11-humanoid-robot-kinematics-and-dynamics"><span title="Weeks 11-12: Humanoid Development" class="categoryLinkLabel_W154">Weeks 11-12: Humanoid Development</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Physical-AI-Humanoid-Robotics/chapters/chapter-15-conversational-robotics"><span title="Week 13: Conversational AI" class="categoryLinkLabel_W154">Week 13: Conversational AI</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Physical-AI-Humanoid-Robotics/chapters/chapter-16-sim-to-real-transfer"><span title="Final Weeks: Deployment &amp; Capstone" class="categoryLinkLabel_W154">Final Weeks: Deployment &amp; Capstone</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/Physical-AI-Humanoid-Robotics/chapters/appendix-a-hardware-setup-guides"><span title="Reference Materials" class="categoryLinkLabel_W154">Reference Materials</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Physical-AI-Humanoid-Robotics/chapters/appendix-a-hardware-setup-guides"><span title="Appendix A: Hardware Setup Guides" class="linkLabel_WmDU">Appendix A: Hardware Setup Guides</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Physical-AI-Humanoid-Robotics/chapters/appendix-b-software-installation"><span title="Appendix B: Software Installation" class="linkLabel_WmDU">Appendix B: Software Installation</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Physical-AI-Humanoid-Robotics/chapters/appendix-c-reference-materials"><span title="Appendix C: Reference Materials" class="linkLabel_WmDU">Appendix C: Reference Materials</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Physical-AI-Humanoid-Robotics/chapters/appendix-d-mathematical-foundations"><span title="Appendix D: Mathematical Foundations" class="linkLabel_WmDU">Appendix D: Mathematical Foundations</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Physical-AI-Humanoid-Robotics/chapters/appendix-e-datasets-and-resources"><span title="Appendix E: Datasets and Resources" class="linkLabel_WmDU">Appendix E: Datasets and Resources</span></a></li></ul></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/Physical-AI-Humanoid-Robotics/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Reference Materials</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Appendix D: Mathematical Foundations</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Appendix D: Mathematical Foundations</h1></header>
<p>This appendix covers essential mathematical concepts for robotics, including linear algebra, rotation representations, transformations, and dynamics. These foundations underpin kinematics, control, and motion planning algorithms.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="d1-linear-algebra-for-robotics">D.1 Linear Algebra for Robotics<a href="#d1-linear-algebra-for-robotics" class="hash-link" aria-label="Direct link to D.1 Linear Algebra for Robotics" title="Direct link to D.1 Linear Algebra for Robotics" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="d11-vectors-and-matrices">D.1.1 Vectors and Matrices<a href="#d11-vectors-and-matrices" class="hash-link" aria-label="Direct link to D.1.1 Vectors and Matrices" title="Direct link to D.1.1 Vectors and Matrices" translate="no">​</a></h3>
<p><strong>Vector Notation:</strong></p>
<p>A vector in n-dimensional space:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">v = [v₁, v₂, ..., vₙ]ᵀ</span><br></span></code></pre></div></div>
<p>For robotics, commonly 2D or 3D:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">v₂ = [x, y]ᵀ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">v₃ = [x, y, z]ᵀ</span><br></span></code></pre></div></div>
<p><strong>Vector Operations:</strong></p>
<table><thead><tr><th>Operation</th><th>Notation</th><th>Result</th><th>Dimension</th></tr></thead><tbody><tr><td>Addition</td><td><strong>a</strong> + <strong>b</strong></td><td>[a₁+b₁, a₂+b₂, a₃+b₃]ᵀ</td><td>Same as inputs</td></tr><tr><td>Subtraction</td><td><strong>a</strong> - <strong>b</strong></td><td>[a₁-b₁, a₂-b₂, a₃-b₃]ᵀ</td><td>Same as inputs</td></tr><tr><td>Scalar multiplication</td><td>c<strong>a</strong></td><td>[ca₁, ca₂, ca₃]ᵀ</td><td>Same as <strong>a</strong></td></tr><tr><td>Dot product</td><td><strong>a</strong> · <strong>b</strong></td><td>a₁b₁ + a₂b₂ + a₃b₃</td><td>Scalar</td></tr><tr><td>Cross product</td><td><strong>a</strong> × <strong>b</strong></td><td>[a₂b₃-a₃b₂, a₃b₁-a₁b₃, a₁b₂-a₂b₁]ᵀ</td><td>3D vector</td></tr><tr><td>Magnitude</td><td>||<strong>a</strong>||</td><td>√(a₁² + a₂² + a₃²)</td><td>Scalar</td></tr></tbody></table>
<p><strong>Vector Magnitude and Normalization:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Magnitude: ||v|| = √(v₁² + v₂² + ... + vₙ²)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Normalized (unit) vector: v̂ = v / ||v||</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Property: ||v̂|| = 1</span><br></span></code></pre></div></div>
<p><strong>Cross Product (3D vectors only):</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">a × b = |i    j    k  |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        |a₁   a₂   a₃ |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        |b₁   b₂   b₃ |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      = i(a₂b₃ - a₃b₂) - j(a₁b₃ - a₃b₁) + k(a₁b₂ - a₂b₁)</span><br></span></code></pre></div></div>
<p>Properties:</p>
<ul>
<li class="">Perpendicular to both <strong>a</strong> and <strong>b</strong></li>
<li class="">Magnitude: ||<strong>a</strong> × <strong>b</strong>|| = ||<strong>a</strong>|| ||<strong>b</strong>|| sin(θ)</li>
<li class="">Anti-commutative: <strong>a</strong> × <strong>b</strong> = -(<strong>b</strong> × <strong>a</strong>)</li>
</ul>
<p><strong>Matrix Notation:</strong></p>
<p>An m × n matrix:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">A = [a₁₁  a₁₂  ...  a₁ₙ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [a₂₁  a₂₂  ...  a₂ₙ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [... ... ... ...]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [aₘ₁  aₘ₂  ...  aₘₙ]</span><br></span></code></pre></div></div>
<p>Common robot matrices:</p>
<ul>
<li class="">Rotation matrix: 3 × 3</li>
<li class="">Transformation matrix: 4 × 4</li>
<li class="">Jacobian: m × n (depends on robot)</li>
</ul>
<p><strong>Matrix Transpose:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">If A is m × n, then Aᵀ is n × m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Aᵀ[i,j] = A[j,i]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Example:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">A = [1  2  3]    Aᵀ = [1  4]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [4  5  6]         [2  5]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      [3  6]</span><br></span></code></pre></div></div>
<p><strong>Matrix Inverse:</strong></p>
<p>For square matrix A (n × n), if it exists:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">A⁻¹ · A = A · A⁻¹ = I</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Where I is the identity matrix</span><br></span></code></pre></div></div>
<p>Properties:</p>
<ul>
<li class="">Only square matrices can have inverses</li>
<li class="">Inverse exists if det(A) ≠ 0 (non-singular)</li>
<li class="">(AB)⁻¹ = B⁻¹A⁻¹</li>
<li class="">(Aᵀ)⁻¹ = (A⁻¹)ᵀ</li>
</ul>
<p><strong>2×2 Matrix Inverse:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">A = [a  b]    A⁻¹ = 1/(ad-bc) · [ d  -b]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [c  d]                      [-c   a]</span><br></span></code></pre></div></div>
<p><strong>3×3 Matrix Inverse (rotation matrices):</strong></p>
<p>For orthogonal matrices (rotation matrices):</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">R⁻¹ = Rᵀ</span><br></span></code></pre></div></div>
<p>This is computationally efficient and numerically stable.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="d12-matrix-operations">D.1.2 Matrix Operations<a href="#d12-matrix-operations" class="hash-link" aria-label="Direct link to D.1.2 Matrix Operations" title="Direct link to D.1.2 Matrix Operations" translate="no">​</a></h3>
<p><strong>Matrix Multiplication:</strong></p>
<p>If A is m × n and B is n × p, then C = AB is m × p:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">C[i,j] = Σ(k=1 to n) A[i,k] · B[k,j]</span><br></span></code></pre></div></div>
<p>Properties:</p>
<ul>
<li class="">Not commutative: AB ≠ BA (in general)</li>
<li class="">Associative: (AB)C = A(BC)</li>
<li class="">Distributive: A(B+C) = AB + AC</li>
</ul>
<p><strong>Matrix-Vector Multiplication:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">y = Ax</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Where A is m × n, x is n × 1, y is m × 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">y[i] = Σ(j=1 to n) A[i,j] · x[j]</span><br></span></code></pre></div></div>
<p><strong>Determinant:</strong></p>
<p>For 2×2 matrix:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">det(A) = ad - bc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Where A = [a  b]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          [c  d]</span><br></span></code></pre></div></div>
<p>For 3×3 matrix:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">det(A) = a(ei-fh) - b(di-fg) + c(dh-eg)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Where A = [a  b  c]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          [d  e  f]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          [g  h  i]</span><br></span></code></pre></div></div>
<p>Properties:</p>
<ul>
<li class="">det(AB) = det(A) · det(B)</li>
<li class="">det(Aᵀ) = det(A)</li>
<li class="">det(A⁻¹) = 1/det(A)</li>
<li class="">For rotation matrices: det(R) = 1</li>
</ul>
<p><strong>Trace:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">tr(A) = Σ(i=1 to n) A[i,i]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(sum of diagonal elements)</span><br></span></code></pre></div></div>
<p>Properties:</p>
<ul>
<li class="">tr(A + B) = tr(A) + tr(B)</li>
<li class="">tr(cA) = c · tr(A)</li>
<li class="">tr(AB) = tr(BA)</li>
</ul>
<p><strong>Block Matrices:</strong></p>
<p>Useful for transformation matrices:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">T = [R  p]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [0  1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Where:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  R is 3×3 rotation matrix</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  p is 3×1 position vector</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  0 is 1×3 zero vector</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  1 is scalar</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="d13-eigenvalues-and-eigenvectors">D.1.3 Eigenvalues and Eigenvectors<a href="#d13-eigenvalues-and-eigenvectors" class="hash-link" aria-label="Direct link to D.1.3 Eigenvalues and Eigenvectors" title="Direct link to D.1.3 Eigenvalues and Eigenvectors" translate="no">​</a></h3>
<p><strong>Definition:</strong></p>
<p>For square matrix A and vector v:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Av = λv</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Where:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  v is eigenvector (v ≠ 0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  λ is eigenvalue (scalar)</span><br></span></code></pre></div></div>
<p><strong>Characteristic Equation:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">det(A - λI) = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Solving gives eigenvalues λ₁, λ₂, ..., λₙ</span><br></span></code></pre></div></div>
<p><strong>Example (2×2 matrix):</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">A = [4  1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [2  3]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Characteristic equation:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">det([4-λ    1  ]) = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   [2    3-λ ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(4-λ)(3-λ) - 2 = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">λ² - 7λ + 10 = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(λ-5)(λ-2) = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Eigenvalues: λ₁ = 5, λ₂ = 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">For λ₁ = 5:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[4-5  1 ][v₁] = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2  3-5][v₂]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[-1  1][v₁] = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2  -2][v₂]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Eigenvector: v₁ = [1, 1]ᵀ</span><br></span></code></pre></div></div>
<p><strong>Properties:</strong></p>
<ul>
<li class="">Sum of eigenvalues = trace of matrix</li>
<li class="">Product of eigenvalues = determinant of matrix</li>
<li class="">Real symmetric matrices have real eigenvalues</li>
<li class="">Eigenvectors corresponding to different eigenvalues are orthogonal</li>
</ul>
<p><strong>Applications in Robotics:</strong></p>
<ol>
<li class=""><strong>Stability Analysis:</strong> System stable if all eigenvalues have negative real parts</li>
<li class=""><strong>Principal Component Analysis:</strong> Eigenvectors define principal axes</li>
<li class=""><strong>Dynamics:</strong> Natural frequencies from eigenvalues of system matrix</li>
<li class=""><strong>Optimal Control:</strong> Solution involves eigenvalue decomposition</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="d14-singular-value-decomposition-svd">D.1.4 Singular Value Decomposition (SVD)<a href="#d14-singular-value-decomposition-svd" class="hash-link" aria-label="Direct link to D.1.4 Singular Value Decomposition (SVD)" title="Direct link to D.1.4 Singular Value Decomposition (SVD)" translate="no">​</a></h3>
<p><strong>Definition:</strong></p>
<p>Any m × n matrix A can be decomposed as:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">A = UΣVᵀ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Where:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  U is m × m orthogonal matrix (left singular vectors)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Σ is m × n diagonal matrix (singular values)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  V is n × n orthogonal matrix (right singular vectors)</span><br></span></code></pre></div></div>
<p><strong>Singular Values:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Σ = [σ₁  0   0  ...  0 ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [0   σ₂  0  ...  0 ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [0   0   σ₃ ...  0 ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [... ... ... ... ...]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Where σ₁ ≥ σ₂ ≥ σ₃ ≥ ... ≥ 0</span><br></span></code></pre></div></div>
<p><strong>Properties:</strong></p>
<ul>
<li class="">Singular values are always non-negative</li>
<li class="">Number of non-zero singular values = rank of matrix</li>
<li class="">||A|| = σ₁ (largest singular value)</li>
<li class="">Condition number = σ₁/σₙ (ratio of largest to smallest non-zero singular value)</li>
</ul>
<p><strong>Moore-Penrose Pseudoinverse:</strong></p>
<p>For non-square or singular matrices:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">A⁺ = VΣ⁺Uᵀ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Where Σ⁺[i,i] = 1/σᵢ if σᵢ ≠ 0, else 0</span><br></span></code></pre></div></div>
<p><strong>Applications in Robotics:</strong></p>
<ol>
<li class=""><strong>Inverse Kinematics:</strong> Pseudoinverse of Jacobian for redundant robots</li>
<li class=""><strong>Least Squares:</strong> Solve overdetermined systems (Ax = b)</li>
<li class=""><strong>Dimensionality Reduction:</strong> Keep only largest singular values</li>
<li class=""><strong>Singularity Analysis:</strong> Detect when matrix becomes singular (σₙ → 0)</li>
</ol>
<p><strong>Example:</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> numpy </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> np</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Define matrix (Jacobian example)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">A </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">array</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># SVD decomposition</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">U</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> sigma</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Vt </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">linalg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">svd</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">A</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Pseudoinverse</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">A_pinv </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">linalg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pinv</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">A</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Verify: A · A⁺ · A = A</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">allclose</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">A @ A_pinv @ A</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> A</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># True</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="d2-rotation-representations">D.2 Rotation Representations<a href="#d2-rotation-representations" class="hash-link" aria-label="Direct link to D.2 Rotation Representations" title="Direct link to D.2 Rotation Representations" translate="no">​</a></h2>
<p>Multiple ways to represent 3D rotations exist, each with advantages and disadvantages.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="d21-euler-angles">D.2.1 Euler Angles<a href="#d21-euler-angles" class="hash-link" aria-label="Direct link to D.2.1 Euler Angles" title="Direct link to D.2.1 Euler Angles" translate="no">​</a></h3>
<p><strong>Definition:</strong></p>
<p>Three angles representing rotations about three axes in specific order.</p>
<p><strong>Common Conventions:</strong></p>
<table><thead><tr><th>Convention</th><th>Order</th><th>Use Case</th></tr></thead><tbody><tr><td>XYZ (Roll-Pitch-Yaw)</td><td>Rotate about X, then Y, then Z</td><td>Aircraft, mobile robots</td></tr><tr><td>ZYX (Yaw-Pitch-Roll)</td><td>Rotate about Z, then Y, then X</td><td>Alternative convention</td></tr><tr><td>ZYZ</td><td>Rotate about Z, then Y, then Z</td><td>Robot arms</td></tr><tr><td>XYZ (Fixed axes)</td><td>All rotations about fixed world frame</td><td>Mathematical analysis</td></tr></tbody></table>
<p><strong>Roll-Pitch-Yaw (RPY) - XYZ Convention:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Roll (φ): Rotation about X-axis</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Pitch (θ): Rotation about Y-axis</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Yaw (ψ): Rotation about Z-axis</span><br></span></code></pre></div></div>
<p>Rotation matrices for elementary rotations:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Rx(φ) = [1    0      0   ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        [0  cos(φ) -sin(φ)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        [0  sin(φ)  cos(φ)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Ry(θ) = [ cos(θ)  0  sin(θ)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        [   0     1    0   ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        [-sin(θ)  0  cos(θ)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Rz(ψ) = [cos(ψ) -sin(ψ)  0]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        [sin(ψ)  cos(ψ)  0]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        [  0       0     1]</span><br></span></code></pre></div></div>
<p><strong>Combined Rotation (XYZ intrinsic):</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">R(φ, θ, ψ) = Rz(ψ) · Ry(θ) · Rx(φ)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           = [c(ψ)c(θ)   c(ψ)s(θ)s(φ)-s(ψ)c(φ)   c(ψ)s(θ)c(φ)+s(ψ)s(φ)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             [s(ψ)c(θ)   s(ψ)s(θ)s(φ)+c(ψ)c(φ)   s(ψ)s(θ)c(φ)-c(ψ)s(φ)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             [-s(θ)      c(θ)s(φ)                  c(θ)c(φ)              ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Where c(·) = cos(·), s(·) = sin(·)</span><br></span></code></pre></div></div>
<p><strong>Extracting Euler Angles from Rotation Matrix:</strong></p>
<p>For ZYX convention (given R):</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">θ = atan2(-R[2,0], √(R[0,0]² + R[1,0]²))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">φ = atan2(R[2,1], R[2,2])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ψ = atan2(R[1,0], R[0,0])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Note: Check for gimbal lock when θ = ±π/2</span><br></span></code></pre></div></div>
<p><strong>Advantages:</strong></p>
<ul>
<li class="">Intuitive for humans</li>
<li class="">Three numbers (compact)</li>
<li class="">Easy to interpolate individual angles</li>
</ul>
<p><strong>Disadvantages:</strong></p>
<ul>
<li class="">Gimbal lock (loss of one degree of freedom at certain orientations)</li>
<li class="">Discontinuous (multiple representations for same orientation)</li>
<li class="">Order-dependent</li>
<li class="">Difficult to interpolate smoothly</li>
</ul>
<p><strong>Gimbal Lock:</strong></p>
<p>Occurs when θ = ±π/2, causing first and third rotations to align, losing one DOF.</p>
<p>Example: θ = 90°</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">R = [0     sin(φ-ψ)    cos(φ-ψ)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [0     cos(φ-ψ)   -sin(φ-ψ)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [-1      0            0     ]</span><br></span></code></pre></div></div>
<p>Only (φ-ψ) is determinable, not φ and ψ independently.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="d22-rotation-matrices">D.2.2 Rotation Matrices<a href="#d22-rotation-matrices" class="hash-link" aria-label="Direct link to D.2.2 Rotation Matrices" title="Direct link to D.2.2 Rotation Matrices" translate="no">​</a></h3>
<p><strong>Definition:</strong></p>
<p>3×3 orthogonal matrix representing rotation in 3D space.</p>
<p><strong>Properties:</strong></p>
<ol>
<li class="">Orthogonal: RᵀR = RRᵀ = I</li>
<li class="">Determinant: det(R) = 1 (proper rotation)</li>
<li class="">Inverse: R⁻¹ = Rᵀ</li>
<li class="">Preserves length: ||Rv|| = ||v||</li>
<li class="">Columns (and rows) are orthonormal vectors</li>
</ol>
<p><strong>Standard Form:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">R = [r₁₁  r₁₂  r₁₃]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [r₂₁  r₂₂  r₂₃]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [r₃₁  r₃₂  r₃₃]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Where columns are unit vectors:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  x̂ = [r₁₁, r₂₁, r₃₁]ᵀ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ŷ = [r₁₂, r₂₂, r₃₂]ᵀ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ẑ = [r₁₃, r₂₃, r₃₃]ᵀ</span><br></span></code></pre></div></div>
<p><strong>Composing Rotations:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">R₃ = R₂ · R₁</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(Apply R₁ first, then R₂)</span><br></span></code></pre></div></div>
<p><strong>Rotating a Vector:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">v&#x27; = R · v</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Where v is vector in original frame,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      v&#x27; is vector in rotated frame</span><br></span></code></pre></div></div>
<p><strong>Advantages:</strong></p>
<ul>
<li class="">No singularities</li>
<li class="">Direct composition (matrix multiplication)</li>
<li class="">Efficient computation with optimized libraries</li>
<li class="">Represents full SO(3) group</li>
</ul>
<p><strong>Disadvantages:</strong></p>
<ul>
<li class="">9 numbers with 6 constraints (redundant)</li>
<li class="">No compact interpolation method</li>
<li class="">Difficult to ensure orthogonality after numerical operations</li>
</ul>
<p><strong>Orthonormalization (Gram-Schmidt):</strong></p>
<p>If R becomes non-orthogonal due to numerical errors:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> numpy </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> np</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">orthonormalize</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">R</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;Orthonormalize rotation matrix using Gram-Schmidt.&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    x </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> R</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    y </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> R</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    z </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> R</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Orthonormalize</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    x </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> x </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">linalg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">norm</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    y </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> y </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dot</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> x</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    y </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> y </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">linalg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">norm</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">y</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    z </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cross</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">column_stack</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> z</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="d23-quaternions">D.2.3 Quaternions<a href="#d23-quaternions" class="hash-link" aria-label="Direct link to D.2.3 Quaternions" title="Direct link to D.2.3 Quaternions" translate="no">​</a></h3>
<p><strong>Definition:</strong></p>
<p>Four-dimensional representation of rotation:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">q = [qw, qx, qy, qz]ᵀ = [qw, qv]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Where:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  qw is scalar part</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  qv = [qx, qy, qz]ᵀ is vector part</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Constraint: ||q|| = √(qw² + qx² + qy² + qz²) = 1 (unit quaternion)</span><br></span></code></pre></div></div>
<p><strong>Relationship to Axis-Angle:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">For rotation by angle θ about unit axis n = [nx, ny, nz]:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">qw = cos(θ/2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">qx = nx · sin(θ/2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">qy = ny · sin(θ/2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">qz = nz · sin(θ/2)</span><br></span></code></pre></div></div>
<p><strong>Quaternion Multiplication:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">q₁ ⊗ q₂ = [q₁w·q₂w - q₁v·q₂v]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          [q₁w·q₂v + q₂w·q₁v + q₁v × q₂v]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Where · is dot product, × is cross product</span><br></span></code></pre></div></div>
<p>Expanded form:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">q₁ ⊗ q₂ = [q₁w·q₂w - q₁x·q₂x - q₁y·q₂y - q₁z·q₂z]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          [q₁w·q₂x + q₁x·q₂w + q₁y·q₂z - q₁z·q₂y]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          [q₁w·q₂y - q₁x·q₂z + q₁y·q₂w + q₁z·q₂x]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          [q₁w·q₂z + q₁x·q₂y - q₁y·q₂x + q₁z·q₂w]</span><br></span></code></pre></div></div>
<p><strong>Conjugate:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">q* = [qw, -qx, -qy, -qz]ᵀ</span><br></span></code></pre></div></div>
<p><strong>Inverse:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">q⁻¹ = q* / ||q||²</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">For unit quaternions: q⁻¹ = q*</span><br></span></code></pre></div></div>
<p><strong>Rotating a Vector:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">v&#x27; = q ⊗ [0, v] ⊗ q*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Where v is 3D vector, represented as [0, vx, vy, vz]</span><br></span></code></pre></div></div>
<p><strong>Quaternion to Rotation Matrix:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">R = [1-2(qy²+qz²)    2(qxqy-qwqz)    2(qxqz+qwqy)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [2(qxqy+qwqz)    1-2(qx²+qz²)    2(qyqz-qwqx)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [2(qxqz-qwqy)    2(qyqz+qwqx)    1-2(qx²+qy²)]</span><br></span></code></pre></div></div>
<p><strong>Rotation Matrix to Quaternion:</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">matrix_to_quaternion</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">R</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;Convert rotation matrix to quaternion.&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    trace </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">trace</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">R</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> trace </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        s </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.5</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sqrt</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">trace </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        qw </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.25</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        qx </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">R</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> R</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        qy </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">R</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> R</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        qz </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">R</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> R</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">elif</span><span class="token plain"> R</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> R</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">and</span><span class="token plain"> R</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> R</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        s </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2.0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sqrt</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1.0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> R</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> R</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> R</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        qw </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">R</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> R</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        qx </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.25</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        qy </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">R</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> R</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        qz </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">R</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> R</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">elif</span><span class="token plain"> R</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> R</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        s </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2.0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sqrt</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1.0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> R</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> R</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> R</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        qw </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">R</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> R</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        qx </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">R</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> R</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        qy </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.25</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        qz </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">R</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> R</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        s </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2.0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sqrt</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1.0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> R</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> R</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> R</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        qw </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">R</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> R</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        qx </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">R</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> R</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        qy </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">R</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> R</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        qz </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.25</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">array</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">qw</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> qx</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> qy</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> qz</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p><strong>Spherical Linear Interpolation (SLERP):</strong></p>
<p>Smooth interpolation between quaternions:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">slerp(q₁, q₂, t) = (sin((1-t)θ)/sin(θ))·q₁ + (sin(tθ)/sin(θ))·q₂</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Where:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  θ = arccos(q₁·q₂)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  t ∈ [0, 1]</span><br></span></code></pre></div></div>
<p><strong>Advantages:</strong></p>
<ul>
<li class="">No gimbal lock</li>
<li class="">Compact (4 numbers with 1 constraint)</li>
<li class="">Efficient composition (quaternion multiplication)</li>
<li class="">Smooth interpolation (SLERP)</li>
<li class="">Numerically stable</li>
</ul>
<p><strong>Disadvantages:</strong></p>
<ul>
<li class="">Less intuitive than Euler angles</li>
<li class="">Double cover (q and -q represent same rotation)</li>
<li class="">Requires normalization to maintain unit constraint</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="d24-axis-angle-representation">D.2.4 Axis-Angle Representation<a href="#d24-axis-angle-representation" class="hash-link" aria-label="Direct link to D.2.4 Axis-Angle Representation" title="Direct link to D.2.4 Axis-Angle Representation" translate="no">​</a></h3>
<p><strong>Definition:</strong></p>
<p>Rotation by angle θ about unit axis n:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">r = θ · n = [θnx, θny, θnz]ᵀ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Where:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  n = [nx, ny, nz]ᵀ is unit axis (||n|| = 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  θ is rotation angle (radians)</span><br></span></code></pre></div></div>
<p><strong>Rodrigues&#x27; Formula (Axis-Angle to Rotation Matrix):</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">R = I + sin(θ)[n]× + (1-cos(θ))[n]×²</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Where [n]× is skew-symmetric matrix:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[n]× = [ 0   -nz   ny]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       [ nz   0   -nx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       [-ny   nx   0 ]</span><br></span></code></pre></div></div>
<p><strong>Expanded Form:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">R = [nx²(1-c)+c      nxny(1-c)-nzs   nxnz(1-c)+nys]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [nxny(1-c)+nzs   ny²(1-c)+c      nynz(1-c)-nxs]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [nxnz(1-c)-nys   nynz(1-c)+nxs   nz²(1-c)+c   ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Where c = cos(θ), s = sin(θ)</span><br></span></code></pre></div></div>
<p><strong>Rotation Matrix to Axis-Angle:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">θ = arccos((trace(R) - 1) / 2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">If θ ≠ 0:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  n = 1/(2sin(θ)) · [R[2,1] - R[1,2]]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    [R[0,2] - R[2,0]]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    [R[1,0] - R[0,1]]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">If θ = 0: any axis (no rotation)</span><br></span></code></pre></div></div>
<p><strong>Advantages:</strong></p>
<ul>
<li class="">Intuitive (axis and angle)</li>
<li class="">Compact (3 numbers)</li>
<li class="">Direct geometric meaning</li>
</ul>
<p><strong>Disadvantages:</strong></p>
<ul>
<li class="">Discontinuous at θ = 0, 2π</li>
<li class="">Multiple representations (θ, n) and (-θ, -n) are same rotation</li>
<li class="">Non-unique for θ = 0</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="d25-conversion-summary">D.2.5 Conversion Summary<a href="#d25-conversion-summary" class="hash-link" aria-label="Direct link to D.2.5 Conversion Summary" title="Direct link to D.2.5 Conversion Summary" translate="no">​</a></h3>
<p><strong>Conversion Table:</strong></p>
<table><thead><tr><th>From → To</th><th>Formula</th></tr></thead><tbody><tr><td>Euler → Rotation Matrix</td><td>Sequential multiplication of elementary rotations</td></tr><tr><td>Rotation Matrix → Euler</td><td>Extract using atan2 (watch for gimbal lock)</td></tr><tr><td>Axis-Angle → Rotation Matrix</td><td>Rodrigues&#x27; formula</td></tr><tr><td>Rotation Matrix → Axis-Angle</td><td>θ = arccos((tr(R)-1)/2), extract axis</td></tr><tr><td>Quaternion → Rotation Matrix</td><td>See section D.2.3</td></tr><tr><td>Rotation Matrix → Quaternion</td><td>See section D.2.3 (careful with branches)</td></tr><tr><td>Axis-Angle → Quaternion</td><td>q = [cos(θ/2), n·sin(θ/2)]</td></tr><tr><td>Quaternion → Axis-Angle</td><td>θ = 2·arccos(qw), n = qv/</td></tr><tr><td>Euler → Quaternion</td><td>Convert to matrix, then to quaternion</td></tr><tr><td>Quaternion → Euler</td><td>Convert to matrix, then extract Euler</td></tr></tbody></table>
<p><strong>Python Example (Using scipy):</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> scipy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">spatial</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">transform </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Rotation </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> R</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> numpy </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> np</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Create rotation from Euler angles (XYZ convention)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">r_euler </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> R</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">from_euler</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;xyz&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">30</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">45</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">60</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> degrees</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Convert to different representations</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">matrix </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> r_euler</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">as_matrix</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">quat </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> r_euler</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">as_quat</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># [qx, qy, qz, qw] format</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rotvec </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> r_euler</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">as_rotvec</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># axis-angle (θ·n)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Create rotation from quaternion</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">r_quat </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> R</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">from_quat</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.707</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.707</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Compose rotations</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">r_combined </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> r_euler </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> r_quat</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Apply rotation to vector</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">v </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">array</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">v_rotated </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> r_euler</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">apply</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">v</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="d3-transformation-matrices">D.3 Transformation Matrices<a href="#d3-transformation-matrices" class="hash-link" aria-label="Direct link to D.3 Transformation Matrices" title="Direct link to D.3 Transformation Matrices" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="d31-homogeneous-coordinates">D.3.1 Homogeneous Coordinates<a href="#d31-homogeneous-coordinates" class="hash-link" aria-label="Direct link to D.3.1 Homogeneous Coordinates" title="Direct link to D.3.1 Homogeneous Coordinates" translate="no">​</a></h3>
<p><strong>Motivation:</strong></p>
<p>Combine rotation and translation in single matrix operation.</p>
<p><strong>2D Homogeneous Coordinates:</strong></p>
<p>Point (x, y) represented as:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[x]       [x/w]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[y]   or  [y/w]  (if w ≠ 0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[w]       [ 1 ]</span><br></span></code></pre></div></div>
<p>Typical: w = 1, giving [x, y, 1]ᵀ</p>
<p><strong>3D Homogeneous Coordinates:</strong></p>
<p>Point (x, y, z) represented as:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[x]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[y]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[z]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[1]</span><br></span></code></pre></div></div>
<p><strong>Advantages:</strong></p>
<ul>
<li class="">Unifies rotation and translation</li>
<li class="">Enables matrix composition</li>
<li class="">Simplifies perspective projection</li>
<li class="">Represents points at infinity (w = 0)</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="d32-44-transformation-matrices">D.3.2 4×4 Transformation Matrices<a href="#d32-44-transformation-matrices" class="hash-link" aria-label="Direct link to D.3.2 4×4 Transformation Matrices" title="Direct link to D.3.2 4×4 Transformation Matrices" translate="no">​</a></h3>
<p><strong>General Form:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">T = [R  p]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [0  1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  = [r₁₁  r₁₂  r₁₃  px]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [r₂₁  r₂₂  r₂₃  py]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [r₃₁  r₃₂  r₃₃  pz]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [ 0    0    0   1 ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Where:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  R is 3×3 rotation matrix</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  p is 3×1 position vector [px, py, pz]ᵀ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  0 is 1×3 zero row</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  1 is scalar</span><br></span></code></pre></div></div>
<p><strong>Transforming a Point:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">p&#x27; = T · p</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[x&#x27;]   [r₁₁  r₁₂  r₁₃  px]   [x]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[y&#x27;] = [r₂₁  r₂₂  r₂₃  py] · [y]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[z&#x27;]   [r₃₁  r₃₂  r₃₃  pz]   [z]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[1 ]   [ 0    0    0   1 ]   [1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Expanded:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x&#x27; = r₁₁x + r₁₂y + r₁₃z + px</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">y&#x27; = r₂₁x + r₂₂y + r₂₃z + py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">z&#x27; = r₃₁x + r₃₂y + r₃₃z + pz</span><br></span></code></pre></div></div>
<p><strong>Elementary Transformations:</strong></p>
<p><strong>Translation:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Trans(dx, dy, dz) = [1  0  0  dx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    [0  1  0  dy]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    [0  0  1  dz]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    [0  0  0  1 ]</span><br></span></code></pre></div></div>
<p><strong>Rotation about X-axis:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Rot(X, θ) = [1    0      0    0]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            [0  cos(θ) -sin(θ) 0]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            [0  sin(θ)  cos(θ) 0]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            [0    0      0    1]</span><br></span></code></pre></div></div>
<p><strong>Rotation about Y-axis:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Rot(Y, θ) = [ cos(θ)  0  sin(θ)  0]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            [   0     1    0     0]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            [-sin(θ)  0  cos(θ)  0]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            [   0     0    0     1]</span><br></span></code></pre></div></div>
<p><strong>Rotation about Z-axis:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Rot(Z, θ) = [cos(θ) -sin(θ)  0  0]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            [sin(θ)  cos(θ)  0  0]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            [  0       0     1  0]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            [  0       0     0  1]</span><br></span></code></pre></div></div>
<p><strong>Scaling (not rigid-body):</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Scale(sx, sy, sz) = [sx  0   0   0]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    [0   sy  0   0]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    [0   0   sz  0]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    [0   0   0   1]</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="d33-composition-of-transformations">D.3.3 Composition of Transformations<a href="#d33-composition-of-transformations" class="hash-link" aria-label="Direct link to D.3.3 Composition of Transformations" title="Direct link to D.3.3 Composition of Transformations" translate="no">​</a></h3>
<p><strong>Matrix Multiplication:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">T₃ = T₂ · T₁</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Applies T₁ first, then T₂</span><br></span></code></pre></div></div>
<p>Order matters: T₂·T₁ ≠ T₁·T₂ (in general)</p>
<p><strong>Example:</strong></p>
<p>Rotate 90° about Z, then translate [1, 0, 0]:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">T_rot = Rot(Z, π/2) = [0  -1  0  0]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      [1   0  0  0]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      [0   0  1  0]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      [0   0  0  1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">T_trans = Trans(1, 0, 0) = [1  0  0  1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                           [0  1  0  0]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                           [0  0  1  0]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                           [0  0  0  1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">T_combined = T_trans · T_rot = [0  -1  0  1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                               [1   0  0  0]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                               [0   0  1  0]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                               [0   0  0  1]</span><br></span></code></pre></div></div>
<p>Point [1, 0, 0]ᵀ after transformation:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[0  -1  0  1]   [1]   [1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[1   0  0  0] · [0] = [1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[0   0  1  0]   [0]   [0]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[0   0  0  1]   [1]   [1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Result: [1, 1, 0]ᵀ</span><br></span></code></pre></div></div>
<p><strong>Relative vs. Fixed Frame:</strong></p>
<ul>
<li class=""><strong>Fixed frame (pre-multiplication):</strong> T_new = T_op · T_old</li>
<li class=""><strong>Relative frame (post-multiplication):</strong> T_new = T_old · T_op</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="d34-inverse-transformations">D.3.4 Inverse Transformations<a href="#d34-inverse-transformations" class="hash-link" aria-label="Direct link to D.3.4 Inverse Transformations" title="Direct link to D.3.4 Inverse Transformations" translate="no">​</a></h3>
<p><strong>General Inverse:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">T⁻¹ = [R  p]⁻¹ = [Rᵀ  -Rᵀp]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [0  1]     [0    1  ]</span><br></span></code></pre></div></div>
<p>Derivation:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">T · T⁻¹ = [R  p] · [Rᵀ  -Rᵀp]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          [0  1]   [0    1  ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        = [RRᵀ  R(-Rᵀp)+p]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          [0        1     ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        = [I  -p+p]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          [0   1  ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        = [I  0]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          [0  1] = Identity</span><br></span></code></pre></div></div>
<p><strong>Computational Note:</strong></p>
<p>Never compute R⁻¹ directly; use Rᵀ for efficiency and numerical stability.</p>
<p><strong>Example:</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> numpy </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> np</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">transform_inverse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">T</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;Compute inverse of homogeneous transformation matrix.&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    R </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> T</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    p </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> T</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    T_inv </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">eye</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    T_inv</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> R</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">T</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    T_inv</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">R</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">T @ p</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> T_inv</span><br></span></code></pre></div></div>
<p><strong>Chain of Transformations:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">T_total = T_n · ... · T_2 · T_1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">T_total⁻¹ = T_1⁻¹ · T_2⁻¹ · ... · T_n⁻¹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(Reverse order)</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="d4-differential-equations-for-dynamics">D.4 Differential Equations for Dynamics<a href="#d4-differential-equations-for-dynamics" class="hash-link" aria-label="Direct link to D.4 Differential Equations for Dynamics" title="Direct link to D.4 Differential Equations for Dynamics" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="d41-newton-euler-equations">D.4.1 Newton-Euler Equations<a href="#d41-newton-euler-equations" class="hash-link" aria-label="Direct link to D.4.1 Newton-Euler Equations" title="Direct link to D.4.1 Newton-Euler Equations" translate="no">​</a></h3>
<p><strong>Newton&#x27;s Second Law:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">F = ma</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Where:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  F is net force (vector)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  m is mass (scalar)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  a is acceleration (vector)</span><br></span></code></pre></div></div>
<p>For 3D:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[Fx]   [max]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[Fy] = [may]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[Fz]   [maz]</span><br></span></code></pre></div></div>
<p><strong>Euler&#x27;s Equation (Rotational Dynamics):</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">τ = I·ω̇ + ω × (I·ω)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Where:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  τ is net torque (vector)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  I is inertia tensor (3×3 matrix)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ω is angular velocity (vector)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ω̇ is angular acceleration (vector)</span><br></span></code></pre></div></div>
<p><strong>Inertia Tensor:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">I = [Ixx  -Ixy  -Ixz]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [-Iyx  Iyy  -Iyz]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [-Izx  -Izy  Izz]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Where:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Ixx = ∫(y² + z²)dm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Ixy = ∫(xy)dm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ... (symmetric: Ixy = Iyx)</span><br></span></code></pre></div></div>
<p><strong>Parallel Axis Theorem:</strong></p>
<p>Inertia about parallel axis offset by d:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">I_parallel = I_cm + m·d²</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">For general offset [dx, dy, dz]:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Ixx&#x27; = Ixx + m(dy² + dz²)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Ixy&#x27; = Ixy - m·dx·dy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre></div></div>
<p><strong>Newton-Euler Equations for Rigid Body:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">F = m·ac          (Linear motion)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">τ = I·ω̇ + ω×(I·ω)  (Angular motion)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Where ac is center of mass acceleration</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="d42-lagrangian-mechanics">D.4.2 Lagrangian Mechanics<a href="#d42-lagrangian-mechanics" class="hash-link" aria-label="Direct link to D.4.2 Lagrangian Mechanics" title="Direct link to D.4.2 Lagrangian Mechanics" translate="no">​</a></h3>
<p><strong>Lagrangian:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">L = T - V</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Where:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  T is kinetic energy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  V is potential energy</span><br></span></code></pre></div></div>
<p><strong>Euler-Lagrange Equation:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">d/dt(∂L/∂q̇ᵢ) - ∂L/∂qᵢ = τᵢ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Where:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  qᵢ is generalized coordinate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  q̇ᵢ is generalized velocity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  τᵢ is generalized force/torque</span><br></span></code></pre></div></div>
<p><strong>Kinetic Energy:</strong></p>
<p>For single rigid body:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">T = (1/2)m·vᵀv + (1/2)ωᵀIω</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Where:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  v is linear velocity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ω is angular velocity</span><br></span></code></pre></div></div>
<p>For robot with n joints:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">T = (1/2)q̇ᵀM(q)q̇</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Where:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  q is joint position vector</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  q̇ is joint velocity vector</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  M(q) is mass/inertia matrix (configuration-dependent)</span><br></span></code></pre></div></div>
<p><strong>Potential Energy:</strong></p>
<p>Gravitational:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">V = mgh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Where h is height of center of mass</span><br></span></code></pre></div></div>
<p><strong>Equations of Motion:</strong></p>
<p>For robot manipulator:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">M(q)q̈ + C(q,q̇)q̇ + G(q) = τ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Where:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  M(q) is mass matrix</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  C(q,q̇) is Coriolis/centrifugal matrix</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  G(q) is gravity vector</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  τ is joint torque vector</span><br></span></code></pre></div></div>
<p><strong>Example: Simple Pendulum</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">q = θ (angle from vertical)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">L = (1/2)ml²θ̇² - mgl(1 - cos(θ))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Euler-Lagrange:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">d/dt(ml²θ̇) + mgl·sin(θ) = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ml²θ̈ + mgl·sin(θ) = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">θ̈ + (g/l)sin(θ) = 0</span><br></span></code></pre></div></div>
<p><strong>Advantages of Lagrangian Formulation:</strong></p>
<ul>
<li class="">Systematic approach for complex systems</li>
<li class="">Automatic constraint handling</li>
<li class="">Energy-based (physically intuitive)</li>
<li class="">Easier for systems with many DOF</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="d43-state-space-representations">D.4.3 State-Space Representations<a href="#d43-state-space-representations" class="hash-link" aria-label="Direct link to D.4.3 State-Space Representations" title="Direct link to D.4.3 State-Space Representations" translate="no">​</a></h3>
<p><strong>State-Space Form:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ẋ = f(x, u, t)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">y = h(x, u, t)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Where:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  x is state vector</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  u is input vector</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  y is output vector</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ẋ is state derivative</span><br></span></code></pre></div></div>
<p><strong>Linear Time-Invariant (LTI) Systems:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ẋ = Ax + Bu</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">y = Cx + Du</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Where A, B, C, D are constant matrices</span><br></span></code></pre></div></div>
<p><strong>Example: Mass-Spring-Damper</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mẍ + bẋ + kx = F</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">State variables: x₁ = x, x₂ = ẋ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">State-space:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[ẋ₁]   [ 0     1  ] [x₁]   [0  ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[ẋ₂] = [-k/m  -b/m] [x₂] + [1/m] F</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">y = [1  0] [x₁]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            [x₂]</span><br></span></code></pre></div></div>
<p><strong>Robot Manipulator State-Space:</strong></p>
<p>From M(q)q̈ + C(q,q̇)q̇ + G(q) = τ:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">State: x = [q, q̇]ᵀ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ẋ = [      q̇        ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [M⁻¹(τ - Cq̇ - G)]</span><br></span></code></pre></div></div>
<p><strong>Linearization:</strong></p>
<p>For nonlinear system around equilibrium (x₀, u₀):</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">A = ∂f/∂x|(x₀,u₀)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">B = ∂f/∂u|(x₀,u₀)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">C = ∂h/∂x|(x₀,u₀)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">D = ∂h/∂u|(x₀,u₀)</span><br></span></code></pre></div></div>
<p><strong>Stability Analysis:</strong></p>
<p>System stable if all eigenvalues of A have negative real parts.</p>
<p><strong>Discrete-Time State-Space:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">x[k+1] = Ax[k] + Bu[k]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">y[k] = Cx[k] + Du[k]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Where k is time step index</span><br></span></code></pre></div></div>
<p><strong>Conversion from Continuous to Discrete:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Ad = e^(A·Δt)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Bd = A⁻¹(Ad - I)B</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Where Δt is sampling period</span><br></span></code></pre></div></div>
<p>Approximations:</p>
<ul>
<li class="">Forward Euler: Ad ≈ I + A·Δt, Bd ≈ B·Δt</li>
<li class="">Zero-order hold: Exact for piecewise constant inputs</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="summary">Summary<a href="#summary" class="hash-link" aria-label="Direct link to Summary" title="Direct link to Summary" translate="no">​</a></h2>
<p>This appendix covered essential mathematical foundations for robotics:</p>
<ul>
<li class=""><strong>Linear Algebra</strong>: Vectors, matrices, operations, eigenvalues, and SVD for analysis and computation</li>
<li class=""><strong>Rotation Representations</strong>: Euler angles, rotation matrices, quaternions, and axis-angle with conversions</li>
<li class=""><strong>Transformation Matrices</strong>: Homogeneous coordinates and 4×4 transformations for spatial relationships</li>
<li class=""><strong>Differential Equations</strong>: Newton-Euler, Lagrangian, and state-space formulations for robot dynamics</li>
</ul>
<p>These mathematical tools underpin kinematics, dynamics, control, and motion planning algorithms throughout robotics. Refer to this appendix when implementing low-level robot controllers or analyzing system behavior.</p>
<p><strong>Key Takeaways:</strong></p>
<ol>
<li class="">Use quaternions for orientation representation in code (avoid gimbal lock)</li>
<li class="">Rotation matrices provide direct composition but are redundant</li>
<li class="">Transformation matrices unify rotation and translation</li>
<li class="">Lagrangian mechanics simplifies deriving equations of motion</li>
<li class="">State-space form enables modern control theory application</li>
</ol>
<p><strong>Recommended Practice:</strong></p>
<p>Implement these conversions and operations in Python/C++ to build intuition:</p>
<ul>
<li class="">Euler angles ↔ Quaternions ↔ Rotation matrices</li>
<li class="">Forward/inverse kinematics using transformation matrices</li>
<li class="">Simple dynamics simulation using Euler integration</li>
<li class="">Eigenvalue analysis for stability</li>
</ul>
<p>Understanding these foundations enables effective use of robotics libraries (ROS, Isaac, etc.) and debugging of unexpected robot behaviors.</p></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/Physical-AI-Humanoid-Robotics/chapters/appendix-c-reference-materials"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Appendix C: Reference Materials</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/Physical-AI-Humanoid-Robotics/chapters/appendix-e-datasets-and-resources"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Appendix E: Datasets and Resources</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#d1-linear-algebra-for-robotics" class="table-of-contents__link toc-highlight">D.1 Linear Algebra for Robotics</a><ul><li><a href="#d11-vectors-and-matrices" class="table-of-contents__link toc-highlight">D.1.1 Vectors and Matrices</a></li><li><a href="#d12-matrix-operations" class="table-of-contents__link toc-highlight">D.1.2 Matrix Operations</a></li><li><a href="#d13-eigenvalues-and-eigenvectors" class="table-of-contents__link toc-highlight">D.1.3 Eigenvalues and Eigenvectors</a></li><li><a href="#d14-singular-value-decomposition-svd" class="table-of-contents__link toc-highlight">D.1.4 Singular Value Decomposition (SVD)</a></li></ul></li><li><a href="#d2-rotation-representations" class="table-of-contents__link toc-highlight">D.2 Rotation Representations</a><ul><li><a href="#d21-euler-angles" class="table-of-contents__link toc-highlight">D.2.1 Euler Angles</a></li><li><a href="#d22-rotation-matrices" class="table-of-contents__link toc-highlight">D.2.2 Rotation Matrices</a></li><li><a href="#d23-quaternions" class="table-of-contents__link toc-highlight">D.2.3 Quaternions</a></li><li><a href="#d24-axis-angle-representation" class="table-of-contents__link toc-highlight">D.2.4 Axis-Angle Representation</a></li><li><a href="#d25-conversion-summary" class="table-of-contents__link toc-highlight">D.2.5 Conversion Summary</a></li></ul></li><li><a href="#d3-transformation-matrices" class="table-of-contents__link toc-highlight">D.3 Transformation Matrices</a><ul><li><a href="#d31-homogeneous-coordinates" class="table-of-contents__link toc-highlight">D.3.1 Homogeneous Coordinates</a></li><li><a href="#d32-44-transformation-matrices" class="table-of-contents__link toc-highlight">D.3.2 4×4 Transformation Matrices</a></li><li><a href="#d33-composition-of-transformations" class="table-of-contents__link toc-highlight">D.3.3 Composition of Transformations</a></li><li><a href="#d34-inverse-transformations" class="table-of-contents__link toc-highlight">D.3.4 Inverse Transformations</a></li></ul></li><li><a href="#d4-differential-equations-for-dynamics" class="table-of-contents__link toc-highlight">D.4 Differential Equations for Dynamics</a><ul><li><a href="#d41-newton-euler-equations" class="table-of-contents__link toc-highlight">D.4.1 Newton-Euler Equations</a></li><li><a href="#d42-lagrangian-mechanics" class="table-of-contents__link toc-highlight">D.4.2 Lagrangian Mechanics</a></li><li><a href="#d43-state-space-representations" class="table-of-contents__link toc-highlight">D.4.3 State-Space Representations</a></li></ul></li><li><a href="#summary" class="table-of-contents__link toc-highlight">Summary</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Course</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Physical-AI-Humanoid-Robotics/">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/Physical-AI-Humanoid-Robotics/chapters/chapter-01-introduction-to-physical-ai">Foundations</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://panaversity.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Panaversity<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://docs.ros.org/en/humble/" target="_blank" rel="noopener noreferrer" class="footer__link-item">ROS 2 Documentation<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://developer.nvidia.com/isaac-ros" target="_blank" rel="noopener noreferrer" class="footer__link-item">NVIDIA Isaac<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/muskaanfayyaz/Physical-AI-Humanoid-Robotics" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Panaversity. Built with Docusaurus.</div></div></div></footer><button class="rag-chatbot-toggle" aria-label="Toggle chatbot">💬</button></div>
</body>
</html>
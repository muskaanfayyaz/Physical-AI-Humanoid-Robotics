"use strict";(globalThis.webpackChunkphysical_ai_textbook=globalThis.webpackChunkphysical_ai_textbook||[]).push([[324],{6474(e,n,i){i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"chapters/chapter-03-introduction-to-ros2","title":"Chapter 3: Introduction to ROS 2","description":"Learning Objectives","source":"@site/docs/chapters/chapter-03-introduction-to-ros2.md","sourceDirName":"chapters","slug":"/chapters/chapter-03-introduction-to-ros2","permalink":"/Physical-AI-Humanoid-Robotics/chapters/chapter-03-introduction-to-ros2","draft":false,"unlisted":false,"editUrl":"https://github.com/muskaanfayyaz/Physical-AI-Humanoid-Robotics/tree/main/docs/chapters/chapter-03-introduction-to-ros2.md","tags":[],"version":"current","frontMatter":{},"sidebar":"weeklySidebar","previous":{"title":"Chapter 2: Sensor Systems for Physical AI","permalink":"/Physical-AI-Humanoid-Robotics/chapters/chapter-02-sensor-systems-for-physical-ai"},"next":{"title":"Chapter 4: Building with ROS 2","permalink":"/Physical-AI-Humanoid-Robotics/chapters/chapter-04-building-with-ros2"}}');var r=i(4848),o=i(8453);const t={},a="Chapter 3: Introduction to ROS 2",l={},c=[{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Introduction",id:"introduction",level:2},{value:"The Role of Middleware in Robotics",id:"the-role-of-middleware-in-robotics",level:2},{value:"What is Middleware?",id:"what-is-middleware",level:3},{value:"Why Robotics Needs Specialized Middleware",id:"why-robotics-needs-specialized-middleware",level:3},{value:"From ROS 1 to ROS 2: Evolution of Robot Middleware",id:"from-ros-1-to-ros-2-evolution-of-robot-middleware",level:2},{value:"ROS 1: The Original Robot Operating System",id:"ros-1-the-original-robot-operating-system",level:3},{value:"ROS 2: A Complete Redesign",id:"ros-2-a-complete-redesign",level:3},{value:"Why the Migration to ROS 2 Matters",id:"why-the-migration-to-ros-2-matters",level:3},{value:"DDS: The Communication Foundation",id:"dds-the-communication-foundation",level:2},{value:"Data Distribution Service (DDS)",id:"data-distribution-service-dds",level:3},{value:"How DDS Works",id:"how-dds-works",level:3},{value:"DDS Implementations",id:"dds-implementations",level:3},{value:"Why DDS for ROS 2?",id:"why-dds-for-ros-2",level:3},{value:"The ROS 2 Computational Graph",id:"the-ros-2-computational-graph",level:2},{value:"Nodes: The Basic Computation Unit",id:"nodes-the-basic-computation-unit",level:3},{value:"Topics: Asynchronous Data Streams",id:"topics-asynchronous-data-streams",level:3},{value:"Services: Synchronous Request-Response",id:"services-synchronous-request-response",level:3},{value:"Actions: Long-Running Goals with Feedback",id:"actions-long-running-goals-with-feedback",level:3},{value:"Parameters: Runtime Configuration",id:"parameters-runtime-configuration",level:3},{value:"The Complete Computational Graph",id:"the-complete-computational-graph",level:3},{value:"Quality of Service (QoS)",id:"quality-of-service-qos",level:2},{value:"Why QoS Matters",id:"why-qos-matters",level:3},{value:"QoS Policy Dimensions",id:"qos-policy-dimensions",level:3},{value:"Common QoS Profiles",id:"common-qos-profiles",level:3},{value:"QoS Example: Camera vs. Commands",id:"qos-example-camera-vs-commands",level:3},{value:"QoS Compatibility",id:"qos-compatibility",level:3},{value:"ROS 2 for Humanoid Robotics",id:"ros-2-for-humanoid-robotics",level:2},{value:"Why ROS 2 Excels for Humanoid Systems",id:"why-ros-2-excels-for-humanoid-systems",level:3},{value:"The Humanoid Robot ROS 2 Ecosystem",id:"the-humanoid-robot-ros-2-ecosystem",level:3},{value:"Common Humanoid Robot Architectures",id:"common-humanoid-robot-architectures",level:3},{value:"Conceptual Diagrams",id:"conceptual-diagrams",level:2},{value:"Diagram 1: ROS 1 vs. ROS 2 Architecture",id:"diagram-1-ros-1-vs-ros-2-architecture",level:3},{value:"Diagram 2: Communication Patterns",id:"diagram-2-communication-patterns",level:3},{value:"Diagram 3: QoS Policy Impact",id:"diagram-3-qos-policy-impact",level:3},{value:"Diagram 4: Humanoid Robot ROS 2 Graph",id:"diagram-4-humanoid-robot-ros-2-graph",level:3},{value:"Key Concepts Summary",id:"key-concepts-summary",level:2},{value:"DDS (Data Distribution Service)",id:"dds-data-distribution-service",level:3},{value:"Computational Graph",id:"computational-graph",level:3},{value:"Node",id:"node",level:3},{value:"Topic",id:"topic",level:3},{value:"Service",id:"service",level:3},{value:"Action",id:"action",level:3},{value:"Quality of Service (QoS)",id:"quality-of-service-qos-1",level:3},{value:"RMW (ROS Middleware)",id:"rmw-ros-middleware",level:3},{value:"Knowledge Checkpoint",id:"knowledge-checkpoint",level:2},{value:"Chapter Summary",id:"chapter-summary",level:2},{value:"Further Reading",id:"further-reading",level:2},{value:"Looking Ahead",id:"looking-ahead",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"chapter-3-introduction-to-ros-2",children:"Chapter 3: Introduction to ROS 2"})}),"\n",(0,r.jsx)(n.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,r.jsx)(n.p,{children:"By the end of this chapter, you will be able to:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Understand the architecture and design principles of ROS 2"}),"\n",(0,r.jsx)(n.li,{children:"Explain the differences between ROS 1 and ROS 2 and why the migration matters"}),"\n",(0,r.jsx)(n.li,{children:"Describe the role of DDS middleware in ROS 2 communication"}),"\n",(0,r.jsx)(n.li,{children:"Analyze the computational graph and relationships between nodes, topics, services, and actions"}),"\n",(0,r.jsx)(n.li,{children:"Configure Quality of Service (QoS) policies for reliable communication"}),"\n",(0,r.jsx)(n.li,{children:"Recognize why ROS 2 is particularly suited for humanoid robotics applications"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,r.jsx)(n.p,{children:"Building a humanoid robot requires coordinating dozens of components: sensors generating data streams, planning algorithms deciding actions, motor controllers executing movements, and safety systems monitoring everything. Each component operates at different frequencies, has different reliability requirements, and may run on different processors or even different machines."}),"\n",(0,r.jsx)(n.p,{children:"The Robot Operating System 2 (ROS 2) provides the infrastructure to orchestrate this complexity. ROS 2 is not an operating system in the traditional sense\u2014it is a middleware framework and ecosystem of tools that enables building complex robotic systems from modular, reusable components."}),"\n",(0,r.jsx)(n.p,{children:"This chapter introduces ROS 2's architecture, communication patterns, and design philosophy. Understanding these foundations is essential for building the humanoid robot systems we will develop throughout this course."}),"\n",(0,r.jsx)(n.h2,{id:"the-role-of-middleware-in-robotics",children:"The Role of Middleware in Robotics"}),"\n",(0,r.jsx)(n.h3,{id:"what-is-middleware",children:"What is Middleware?"}),"\n",(0,r.jsx)(n.p,{children:"Middleware sits between the operating system and application software, providing common services that applications need but operating systems do not provide. In robotics, middleware addresses challenges like:"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Distributed Communication:"})," Components may run on different processors (sensor processing on GPU, planning on CPU, motor control on microcontrollers). Middleware handles inter-process and inter-machine communication transparently."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Data Flow Management:"})," Robot systems process multiple data streams\u2014camera images at 30 Hz, LiDAR scans at 10 Hz, IMU data at 200 Hz. Middleware routes data from producers to consumers efficiently."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Time Synchronization:"})," Actions must be coordinated in time. A robot arm motion command must align with gripper closure. Middleware provides timing mechanisms."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Discovery and Configuration:"})," Components need to find each other dynamically. When you add a new sensor, other components should discover it automatically without manual wiring."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Abstraction and Portability:"})," Middleware hides hardware differences. Your planning code should work whether the robot uses LiDAR or radar, servo motors or hydraulics."]}),"\n",(0,r.jsx)(n.h3,{id:"why-robotics-needs-specialized-middleware",children:"Why Robotics Needs Specialized Middleware"}),"\n",(0,r.jsx)(n.p,{children:"General-purpose middleware exists, but robotics has unique requirements:"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Real-Time Constraints:"})," Motor control loops must run at precise intervals (1-10 kHz). Missed deadlines can cause instability or damage."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Massive Data Throughput:"})," A single high-resolution camera generates 200+ MB/sec. Point clouds from LiDAR can exceed 1 GB/sec. Middleware must handle this without copying data unnecessarily."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Dynamic Topology:"})," Sensors may come online or fail. Algorithms may start and stop. The system must adapt without restarting."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Heterogeneous Platforms:"})," Modern robots combine embedded microcontrollers, ARM processors, x86 CPUs, and GPUs. Middleware must work across this heterogeneity."]}),"\n",(0,r.jsx)(n.p,{children:"ROS 2 was designed specifically to address these robotics-specific challenges."}),"\n",(0,r.jsx)(n.h2,{id:"from-ros-1-to-ros-2-evolution-of-robot-middleware",children:"From ROS 1 to ROS 2: Evolution of Robot Middleware"}),"\n",(0,r.jsx)(n.h3,{id:"ros-1-the-original-robot-operating-system",children:"ROS 1: The Original Robot Operating System"}),"\n",(0,r.jsx)(n.p,{children:"ROS 1, introduced in 2007, revolutionized robotics development by providing:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"A publish-subscribe communication model (topics)"}),"\n",(0,r.jsx)(n.li,{children:"Remote procedure calls (services)"}),"\n",(0,r.jsx)(n.li,{children:"A package management system"}),"\n",(0,r.jsx)(n.li,{children:"Standard message definitions"}),"\n",(0,r.jsx)(n.li,{children:"Visualization and debugging tools"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"ROS 1 enabled rapid development of complex robot systems and became the de facto standard in research and increasingly in industry."}),"\n",(0,r.jsx)(n.p,{children:"However, ROS 1 had fundamental limitations:"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Single Master Architecture:"}),' ROS 1 requires a central "master" node that coordinates all communication. If the master fails, the entire system fails. This single point of failure is unacceptable for production robots.']}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"No Real-Time Support:"})," ROS 1's communication layer cannot guarantee message delivery times, preventing its use in hard real-time control loops."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"No Security:"})," ROS 1 has no built-in authentication or encryption. Any process can read any topic or call any service."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Limited Multi-Robot Support:"})," The single-master design makes coordinating multiple robots cumbersome."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"TCP-based Communication:"})," Default TCP transport introduces latency and overhead unsuitable for high-frequency control."]}),"\n",(0,r.jsx)(n.h3,{id:"ros-2-a-complete-redesign",children:"ROS 2: A Complete Redesign"}),"\n",(0,r.jsx)(n.p,{children:"ROS 2, initially released in 2017, addresses ROS 1's limitations through fundamental architectural changes:"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"No Single Master:"})," ROS 2 uses peer-to-peer discovery. Nodes find each other through DDS (Data Distribution Service), eliminating the single point of failure."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Real-Time Capable:"})," ROS 2 can run on real-time operating systems and provides deterministic communication paths suitable for control loops."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Security by Design:"})," Built-in support for authentication, access control, and encryption."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"DDS Middleware:"})," Leverages the OMG Data Distribution Service standard, providing mature, tested communication infrastructure."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Quality of Service:"})," Configurable reliability, durability, and deadline policies allow tuning communication for different requirements."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Multi-Language Support:"})," Improved support for Python, C++, and other languages through unified client libraries."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Platform Support:"})," Runs on Linux, Windows, macOS, and real-time operating systems."]}),"\n",(0,r.jsx)(n.h3,{id:"why-the-migration-to-ros-2-matters",children:"Why the Migration to ROS 2 Matters"}),"\n",(0,r.jsx)(n.p,{children:"While ROS 1 remains widely used in research, ROS 2 is essential for production robotics:"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Safety-Critical Systems:"})," Humanoid robots working near humans need real-time guarantees and fault tolerance that only ROS 2 provides."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Multi-Robot Systems:"})," Deploying fleets of humanoid robots requires robust multi-robot communication."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Long-Term Support:"})," ROS 1 reached end-of-life in 2025. ROS 2 is the supported path forward."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Industry Adoption:"})," Commercial robotics increasingly demands ROS 2's security, reliability, and real-time features."]}),"\n",(0,r.jsx)(n.p,{children:"For humanoid robotics\u2014where safety, reliability, and real-time control are paramount\u2014ROS 2 is not optional but essential."}),"\n",(0,r.jsx)(n.h2,{id:"dds-the-communication-foundation",children:"DDS: The Communication Foundation"}),"\n",(0,r.jsx)(n.h3,{id:"data-distribution-service-dds",children:"Data Distribution Service (DDS)"}),"\n",(0,r.jsx)(n.p,{children:"DDS is an Object Management Group (OMG) standard for real-time, peer-to-peer data distribution. ROS 2 uses DDS as its communication layer, gaining:"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Maturity:"})," DDS has been used in mission-critical systems (aerospace, defense, industrial control) for over a decade."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Performance:"})," Optimized for low latency and high throughput."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Scalability:"})," Supports hundreds of nodes and thousands of data streams."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Reliability Options:"})," Configurable delivery guarantees from best-effort to guaranteed delivery."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Discovery:"})," Automatic peer discovery without central coordination."]}),"\n",(0,r.jsx)(n.h3,{id:"how-dds-works",children:"How DDS Works"}),"\n",(0,r.jsx)(n.p,{children:"DDS uses a publish-subscribe model with additional features:"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Global Data Space:"}),' All data exists in a conceptual "global data space" that publishers write to and subscribers read from. This abstraction hides network topology.']}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Topics:"})," Named data channels with defined types. Publishers and subscribers refer to topics by name."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Quality of Service (QoS):"})," Configurable policies control reliability, delivery ordering, data lifetime, and resource limits."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Discovery Protocol:"})," Nodes announce their presence and discover peers through multicast or predefined discovery servers."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Data-Centric:"})," DDS focuses on data flow rather than message passing. Subscribers get updates when data changes, not individual messages (though message-like semantics are also supported)."]}),"\n",(0,r.jsx)(n.h3,{id:"dds-implementations",children:"DDS Implementations"}),"\n",(0,r.jsx)(n.p,{children:"ROS 2 supports multiple DDS implementations through an abstraction layer (RMW - ROS Middleware):"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Fast DDS (eProsima):"})," Default in most ROS 2 distributions. Good all-around performance."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Cyclone DDS (Eclipse):"})," Lightweight and fast, excellent for embedded systems."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Connext DDS (RTI):"})," Commercial implementation with advanced features and support."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Gurum DDS:"})," Optimized for resource-constrained embedded systems."]}),"\n",(0,r.jsx)(n.p,{children:"The RMW layer allows switching DDS implementations without changing application code, though performance characteristics may differ."}),"\n",(0,r.jsx)(n.h3,{id:"why-dds-for-ros-2",children:"Why DDS for ROS 2?"}),"\n",(0,r.jsx)(n.p,{children:"Choosing DDS provided ROS 2 with:"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Proven Technology:"})," Years of deployment in critical systems."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Standards Compliance:"})," Interoperability with other DDS systems."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Feature Richness:"})," Real-time, security, QoS built-in rather than added on."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Vendor Options:"})," Multiple implementations allow choosing based on requirements."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Future-Proofing:"})," As DDS evolves, ROS 2 benefits from improvements."]}),"\n",(0,r.jsx)(n.h2,{id:"the-ros-2-computational-graph",children:"The ROS 2 Computational Graph"}),"\n",(0,r.jsx)(n.h3,{id:"nodes-the-basic-computation-unit",children:"Nodes: The Basic Computation Unit"}),"\n",(0,r.jsx)(n.p,{children:"A node is a process that performs computation. Each node is a separate executable with a single purpose:"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Single Responsibility:"})," A camera driver node reads camera data. A planning node generates trajectories. A visualization node displays data. Each does one thing well."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Modularity:"})," Nodes are independent and replaceable. Swap a LiDAR driver for a radar driver without changing other components."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Scalability:"})," Distribute nodes across processors and machines as needed."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Fault Isolation:"})," If one node crashes, others continue operating."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example Nodes in a Humanoid Robot:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"camera_driver: Captures and publishes images"}),"\n",(0,r.jsx)(n.li,{children:"depth_processing: Converts depth images to point clouds"}),"\n",(0,r.jsx)(n.li,{children:"object_detector: Identifies objects in images"}),"\n",(0,r.jsx)(n.li,{children:"path_planner: Computes navigation paths"}),"\n",(0,r.jsx)(n.li,{children:"joint_controller: Commands robot joints"}),"\n",(0,r.jsx)(n.li,{children:"safety_monitor: Watches for dangerous conditions"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"topics-asynchronous-data-streams",children:"Topics: Asynchronous Data Streams"}),"\n",(0,r.jsx)(n.p,{children:"Topics implement publish-subscribe communication for streaming data:"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Publishers:"})," Nodes that produce data. A camera node publishes images."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Subscribers:"})," Nodes that consume data. A visualization node subscribes to images."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Topic Name:"}),' A unique string identifier like "/camera/color/image_raw".']}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Message Type:"})," The data structure sent on the topic (e.g., sensor_msgs/Image)."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Many-to-Many:"})," Multiple publishers and subscribers can connect to the same topic."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Decoupling:"})," Publishers don't know who (if anyone) subscribes. Subscribers don't know who publishes."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example Topics:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"/camera/image: RGB images from camera"}),"\n",(0,r.jsx)(n.li,{children:"/imu/data: Inertial measurement unit readings"}),"\n",(0,r.jsx)(n.li,{children:"/joint_states: Current positions of all robot joints"}),"\n",(0,r.jsx)(n.li,{children:"/cmd_vel: Velocity commands for robot base"}),"\n",(0,r.jsx)(n.li,{children:"/point_cloud: 3D point cloud from depth sensor"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Topic Communication Flow:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"[Camera Node] --publishes--\x3e [/camera/image] <--subscribes-- [Object Detector]\n                                  \u2191\n                                  |\n                             <--subscribes-- [Visualization]\n"})}),"\n",(0,r.jsx)(n.p,{children:"Multiple subscribers receive the same data independently."}),"\n",(0,r.jsx)(n.h3,{id:"services-synchronous-request-response",children:"Services: Synchronous Request-Response"}),"\n",(0,r.jsx)(n.p,{children:"Services implement request-response communication for occasional, transactional interactions:"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Client:"})," Sends a request and waits for a response."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Server:"})," Receives requests, processes them, and sends responses."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Service Name:"}),' Unique identifier like "/add_two_ints".']}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Service Type:"})," Defines request and response message structures."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Blocking:"})," Client blocks until server responds (or timeout)."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"One-to-One:"})," Each request gets exactly one response."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example Services:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"/set_camera_exposure: Configure camera settings"}),"\n",(0,r.jsx)(n.li,{children:"/plan_path: Request path from A to B"}),"\n",(0,r.jsx)(n.li,{children:"/reset_odometry: Reset robot position estimate"}),"\n",(0,r.jsx)(n.li,{children:"/spawn_entity: Add object to simulation"}),"\n",(0,r.jsx)(n.li,{children:"/get_map: Retrieve current map"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Service Communication Flow:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"[Client Node] --request--\x3e [Service Server] --response--\x3e [Client Node]\n                                |\n                          (processes request)\n"})}),"\n",(0,r.jsx)(n.p,{children:"Services are appropriate when you need confirmation that an action completed or need computed results."}),"\n",(0,r.jsx)(n.h3,{id:"actions-long-running-goals-with-feedback",children:"Actions: Long-Running Goals with Feedback"}),"\n",(0,r.jsx)(n.p,{children:"Actions extend services for long-running tasks that need feedback and cancellation:"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Action Client:"})," Sends a goal and receives feedback and final result."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Action Server:"})," Accepts goals, provides periodic feedback, and returns final results."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Feedback:"}),' Periodic updates on progress (e.g., "50% complete").']}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Cancellation:"})," Client can cancel a goal in progress."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Asynchronous:"})," Client doesn't block while action executes."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example Actions:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"/navigate_to_pose: Navigate robot to target pose"}),"\n",(0,r.jsx)(n.li,{children:"/grasp_object: Reach and grasp an object"}),"\n",(0,r.jsx)(n.li,{children:"/follow_trajectory: Execute a joint trajectory"}),"\n",(0,r.jsx)(n.li,{children:"/dock: Autonomously dock to charging station"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Action Communication Flow:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"[Client] --goal--\x3e [Action Server] --feedback--\x3e [Client]\n                         |                           |\n                    (executing)                      |\n                         |                           |\n                         ----result-----------------\u2192\n"})}),"\n",(0,r.jsx)(n.p,{children:'Actions are ideal for tasks like "navigate to kitchen" which take time and where you want progress updates and ability to cancel.'}),"\n",(0,r.jsx)(n.h3,{id:"parameters-runtime-configuration",children:"Parameters: Runtime Configuration"}),"\n",(0,r.jsx)(n.p,{children:"Parameters allow configuring nodes without recompiling:"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Declaration:"})," Nodes declare parameters with names and types."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Setting:"})," Parameters can be set from command line, launch files, or YAML files."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Runtime Changes:"})," Parameters can be modified while node is running (if declared as dynamic)."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Namespacing:"})," Parameters exist in node namespaces, avoiding conflicts."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"camera_driver/frame_rate: Camera capture rate"}),"\n",(0,r.jsx)(n.li,{children:"planner/max_velocity: Maximum planning velocity"}),"\n",(0,r.jsx)(n.li,{children:"controller/kp_gain: Proportional control gain"}),"\n",(0,r.jsx)(n.li,{children:"detector/confidence_threshold: Detection confidence threshold"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Parameters enable reusing nodes in different contexts. The same camera driver works for different cameras by changing parameters."}),"\n",(0,r.jsx)(n.h3,{id:"the-complete-computational-graph",children:"The Complete Computational Graph"}),"\n",(0,r.jsx)(n.p,{children:"A ROS 2 system consists of nodes connected through topics, services, and actions:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Computational Graph Example:\n\n[Camera Node] --/image--\x3e [Detector Node] --/detections--\x3e [Planner Node]\n      |                                                           |\n      |                                                           |\n      +--/camera_info--\x3e [Calibration Node]                      |\n                                                                  |\n[IMU Node] --/imu_data--\x3e [Localization Node] --/pose---------\u2192 +\n                                 \u2191                                |\n                                 |                                |\n[Wheel Encoder] --/odom---------+                                |\n                                                                  |\n[Controller Node] <--/cmd_vel-----------------------------------+\n      |\n      +--/joint_commands--\x3e [Motor Drivers]\n"})}),"\n",(0,r.jsx)(n.p,{children:"This graph shows data flowing from sensors (Camera, IMU, Encoders) through processing (Detector, Localization) to planning (Planner) and control (Controller), ultimately commanding motors."}),"\n",(0,r.jsx)(n.h2,{id:"quality-of-service-qos",children:"Quality of Service (QoS)"}),"\n",(0,r.jsx)(n.h3,{id:"why-qos-matters",children:"Why QoS Matters"}),"\n",(0,r.jsx)(n.p,{children:"Not all communication has the same requirements:"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Sensor Data:"})," Streams of data where latest value matters most. Old data is useless. Loss of occasional messages is acceptable."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Commands:"}),' Critical messages that must arrive. A "stop" command cannot be lost.']}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"State:"})," Information where subscribers need the current value, even if they join late."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"High-Frequency Control:"})," Data that must arrive within microseconds."]}),"\n",(0,r.jsx)(n.p,{children:"ROS 2's QoS policies allow configuring communication to meet these diverse requirements."}),"\n",(0,r.jsx)(n.h3,{id:"qos-policy-dimensions",children:"QoS Policy Dimensions"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Reliability:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Best Effort: Send data but don't retry if lost. Lowest latency, highest throughput. Good for sensor streams where latest data matters."}),"\n",(0,r.jsx)(n.li,{children:"Reliable: Guarantee delivery through retransmission. Higher latency, lower throughput. Good for commands and critical data."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Durability:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Volatile: New subscribers receive only future messages. Good for streaming data."}),"\n",(0,r.jsx)(n.li,{children:"Transient Local: New subscribers receive last N messages (based on history). Good for state information where late-joiners need current value."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"History:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Keep Last N: Store only the N most recent messages. Prevents unbounded memory growth."}),"\n",(0,r.jsx)(n.li,{children:"Keep All: Store all messages until delivered. Useful for ensuring no data loss but risks memory exhaustion."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Deadline:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Maximum time between messages. If exceeded, triggers callback. Useful for detecting sensor failures."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Lifespan:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Maximum age for messages. Old messages are discarded. Prevents acting on stale data."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Liveliness:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Mechanism to detect if publishers are still alive. Enables fault detection."}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"common-qos-profiles",children:"Common QoS Profiles"}),"\n",(0,r.jsx)(n.p,{children:"ROS 2 provides preset profiles for common scenarios:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Sensor Data Profile:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Reliability: Best Effort"}),"\n",(0,r.jsx)(n.li,{children:"Durability: Volatile"}),"\n",(0,r.jsx)(n.li,{children:"History: Keep Last 10"}),"\n",(0,r.jsx)(n.li,{children:"Use: High-frequency sensor streams (cameras, LiDAR, IMU)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"System Default:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Reliability: Reliable"}),"\n",(0,r.jsx)(n.li,{children:"Durability: Volatile"}),"\n",(0,r.jsx)(n.li,{children:"History: Keep Last 10"}),"\n",(0,r.jsx)(n.li,{children:"Use: General-purpose communication"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Services:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Reliability: Reliable"}),"\n",(0,r.jsx)(n.li,{children:"Durability: Volatile"}),"\n",(0,r.jsx)(n.li,{children:"History: Keep Last 10"}),"\n",(0,r.jsx)(n.li,{children:"Use: Request-response patterns"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Reliability: Reliable"}),"\n",(0,r.jsx)(n.li,{children:"Durability: Transient Local"}),"\n",(0,r.jsx)(n.li,{children:"History: Keep Last 1"}),"\n",(0,r.jsx)(n.li,{children:"Use: Configuration values that should persist"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Custom Profiles:"}),"\nYou can define custom profiles mixing policies for specific needs."]}),"\n",(0,r.jsx)(n.h3,{id:"qos-example-camera-vs-commands",children:"QoS Example: Camera vs. Commands"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Camera Image Topic:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Reliability: Best Effort (occasional loss acceptable)\nDurability: Volatile (old images irrelevant)\nHistory: Keep Last 1 (only latest image needed)\nDeadline: 50ms (30 Hz camera)\n"})}),"\n",(0,r.jsx)(n.p,{children:"This configuration minimizes latency and memory while ensuring fresh images."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Emergency Stop Topic:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Reliability: Reliable (cannot lose stop command)\nDurability: Transient Local (late subscribers get stop state)\nHistory: Keep Last 10 (ensure delivery despite network issues)\nLiveliness: Automatic (detect if stop publisher dies)\n"})}),"\n",(0,r.jsx)(n.p,{children:"This configuration prioritizes safety and guarantees over performance."}),"\n",(0,r.jsx)(n.h3,{id:"qos-compatibility",children:"QoS Compatibility"}),"\n",(0,r.jsx)(n.p,{children:"Publishers and subscribers must have compatible QoS settings to connect:"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Reliability:"})," Reliable subscriber can connect to Reliable publisher. Best Effort subscriber can connect to any publisher. Reliable subscriber cannot connect to Best Effort publisher."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Durability:"})," Transient Local subscriber can connect to Transient Local publisher. Volatile subscriber can connect to any publisher."]}),"\n",(0,r.jsx)(n.p,{children:"Mismatched QoS prevents connection, a common source of confusion for new ROS 2 users."}),"\n",(0,r.jsx)(n.h2,{id:"ros-2-for-humanoid-robotics",children:"ROS 2 for Humanoid Robotics"}),"\n",(0,r.jsx)(n.h3,{id:"why-ros-2-excels-for-humanoid-systems",children:"Why ROS 2 Excels for Humanoid Systems"}),"\n",(0,r.jsx)(n.p,{children:"Humanoid robots present unique challenges that ROS 2 addresses:"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Complex Sensor Integration:"})," Humanoids use cameras, depth sensors, LiDAR, IMUs, force sensors, tactile arrays. ROS 2's flexible topic system and QoS policies handle this heterogeneous sensor suite."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Real-Time Control:"})," Bipedal balance requires motor control loops at 1-10 kHz with deterministic timing. ROS 2's real-time support enables this."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Distributed Computation:"})," High-level planning (CPU), perception (GPU), motor control (microcontroller) run on different processors. ROS 2's DDS-based communication handles this seamlessly."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Safety Requirements:"})," Humanoids near humans need redundant safety monitoring, emergency stops, and fault detection. ROS 2's reliable QoS and multiple communication patterns support safety architectures."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Multi-Modal Interaction:"})," Humanoids combine navigation, manipulation, speech, gesture. ROS 2's modular architecture allows integrating diverse behaviors."]}),"\n",(0,r.jsx)(n.h3,{id:"the-humanoid-robot-ros-2-ecosystem",children:"The Humanoid Robot ROS 2 Ecosystem"}),"\n",(0,r.jsx)(n.p,{children:"ROS 2 provides extensive libraries for humanoid robotics:"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"MoveIt 2:"})," Motion planning for manipulation. Computes collision-free paths for arm movements."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Navigation2 (Nav2):"})," Autonomous navigation with obstacle avoidance, perfect for bipedal locomotion."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"ros2_control:"})," Hardware abstraction for motor controllers, joint state management, and controller switching."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"tf2:"})," Transform library for managing coordinate frames (critical for multi-link humanoids)."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"RViz2:"})," 3D visualization for debugging and monitoring."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"robot_state_publisher:"})," Publishes robot geometry for visualization and planning."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Gazebo/Isaac Sim Integration:"})," Physics simulation for development and testing."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Real-Time Tools:"})," Priority scheduling, memory locking, and deterministic execution for control loops."]}),"\n",(0,r.jsx)(n.h3,{id:"common-humanoid-robot-architectures",children:"Common Humanoid Robot Architectures"}),"\n",(0,r.jsx)(n.p,{children:"Typical ROS 2 architecture for a humanoid:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Perception Layer:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Camera drivers (vision, depth)"}),"\n",(0,r.jsx)(n.li,{children:"LiDAR driver"}),"\n",(0,r.jsx)(n.li,{children:"IMU driver"}),"\n",(0,r.jsx)(n.li,{children:"Force/torque sensor drivers"}),"\n",(0,r.jsx)(n.li,{children:"Sensor fusion nodes (VIO, point cloud processing)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Localization and Mapping:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Visual-Inertial Odometry"}),"\n",(0,r.jsx)(n.li,{children:"SLAM (Simultaneous Localization and Mapping)"}),"\n",(0,r.jsx)(n.li,{children:"Map server"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Planning Layer:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Global path planner"}),"\n",(0,r.jsx)(n.li,{children:"Local planner with obstacle avoidance"}),"\n",(0,r.jsx)(n.li,{children:"Manipulation planner"}),"\n",(0,r.jsx)(n.li,{children:"Whole-body motion planner"}),"\n",(0,r.jsx)(n.li,{children:"Task planner"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Control Layer:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Joint position controllers"}),"\n",(0,r.jsx)(n.li,{children:"Balance controller"}),"\n",(0,r.jsx)(n.li,{children:"Compliance controller"}),"\n",(0,r.jsx)(n.li,{children:"Gripper controller"}),"\n",(0,r.jsx)(n.li,{children:"Whole-body controller"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Safety and Monitoring:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Joint limit monitor"}),"\n",(0,r.jsx)(n.li,{children:"Collision detection"}),"\n",(0,r.jsx)(n.li,{children:"Emergency stop handler"}),"\n",(0,r.jsx)(n.li,{children:"Health monitoring"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"High-Level Behavior:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"State machine for task execution"}),"\n",(0,r.jsx)(n.li,{children:"Speech recognition and synthesis"}),"\n",(0,r.jsx)(n.li,{children:"Human-robot interaction manager"}),"\n",(0,r.jsx)(n.li,{children:"AI/LLM integration for decision making"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Each layer uses appropriate ROS 2 primitives (topics for sensor streams, actions for long-running tasks, services for configuration)."}),"\n",(0,r.jsx)(n.h2,{id:"conceptual-diagrams",children:"Conceptual Diagrams"}),"\n",(0,r.jsx)(n.h3,{id:"diagram-1-ros-1-vs-ros-2-architecture",children:"Diagram 1: ROS 1 vs. ROS 2 Architecture"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"ROS 1 Architecture:\n\n                [ROS Master]\n                     |\n        +------------+------------+\n        |            |            |\n    [Node A] <---\x3e [Node B] <---\x3e [Node C]\n\n    - Single point of failure (Master)\n    - Master coordinates all communication\n    - XML-RPC for discovery, TCP for data\n\n\nROS 2 Architecture:\n\n    [Node A] <--DDS--\x3e [Node B] <--DDS--\x3e [Node C]\n         \u2195                \u2195                 \u2195\n         +----------- DDS Bus --------------+\n\n    - Peer-to-peer discovery\n    - No single point of failure\n    - DDS handles all communication\n    - Nodes discover each other automatically\n"})}),"\n",(0,r.jsx)(n.h3,{id:"diagram-2-communication-patterns",children:"Diagram 2: Communication Patterns"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Topics (Publish-Subscribe):\n\n[Publisher Node] --publishes--\x3e [Topic: /sensor_data]\n                                       \u2193\n                                   (data flow)\n                                       \u2193\n                     +-----------------+-----------------+\n                     \u2193                 \u2193                 \u2193\n              [Subscriber 1]    [Subscriber 2]    [Subscriber 3]\n\n              - Asynchronous\n              - One-to-many\n              - Decoupled\n\n\nServices (Request-Response):\n\n[Client Node] --request--\x3e [Service: /compute] --response--\x3e [Client Node]\n                                  |\n                            (synchronous)\n\n              - Synchronous\n              - One-to-one\n              - Blocking\n\n\nActions (Goal-Feedback-Result):\n\n[Client] --goal--\x3e [Action Server: /navigate]\n                         |\n                         +--feedback--\x3e [Client] (periodic)\n                         |\n                         +--result----\x3e [Client] (when done)\n\n              - Asynchronous\n              - Long-running\n              - Cancellable\n              - Progress updates\n"})}),"\n",(0,r.jsx)(n.h3,{id:"diagram-3-qos-policy-impact",children:"Diagram 3: QoS Policy Impact"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Best Effort vs. Reliable:\n\nBest Effort:\n[Publisher] ====X====> [Subscriber]\n    t1: \u2713               \u2713 received\n    t2: \u2713               \u2717 lost (no retry)\n    t3: \u2713               \u2713 received\n\n    - Lower latency\n    - Higher throughput\n    - Occasional loss\n\n\nReliable:\n[Publisher] =========> [Subscriber]\n    t1: \u2713               \u2713 received\n    t2: \u2713 retry\u2192\u2713       \u2713 received (after retry)\n    t3: \u2713               \u2713 received\n\n    - Higher latency\n    - Guaranteed delivery\n    - No loss\n\n\nDurability Example:\n\nVolatile:\n[Publisher starts] \u2192 sends data \u2192 [Subscriber joins] \u2192 receives only future data\n\n    Time:      t1        t2        t3        t4\n    Pub:       D1        D2        --        D3\n    Sub:       --        --      [join]      D3 \u2713\n\n    Late subscriber misses D1, D2\n\n\nTransient Local:\n[Publisher starts] \u2192 sends data \u2192 [Subscriber joins] \u2192 receives last N messages\n\n    Time:      t1        t2        t3        t4\n    Pub:       D1        D2        --        D3\n    Sub:       --        --      [join]    D2\u2713,D3\u2713\n\n    Late subscriber gets cached D2, then D3\n"})}),"\n",(0,r.jsx)(n.h3,{id:"diagram-4-humanoid-robot-ros-2-graph",children:"Diagram 4: Humanoid Robot ROS 2 Graph"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Humanoid Robot Computational Graph:\n\nSensors:\n[Camera] --/image_raw--\x3e [Image Processing]\n[LiDAR] --/scan--------\x3e [Point Cloud Processing]\n[IMU] --/imu_data------\x3e [State Estimation]\n[Force Sensors] --/ft--\x3e [Contact Detection]\n\nPerception & Localization:\n[Image Processing] --/detections--\x3e [Scene Understanding]\n[Point Cloud] --/obstacles-------\x3e [Obstacle Avoidance]\n[State Estimation] --/odom-------\x3e [Localization]\n\nPlanning:\n[Scene Understanding] --------+\n[Obstacle Avoidance] ---------+---\x3e [Global Planner]\n[Localization] ---------------+            |\n                                           |\n                                   [Local Planner]\n                                           |\n                                   [Motion Planner]\n\nControl:\n[Motion Planner] --/joint_trajectory--\x3e [Joint Controller]\n                                              |\n                                    [Balance Controller]\n                                              |\n                                   [Hardware Interface]\n                                              |\n                                         [Motors]\n\nSafety:\n[Contact Detection] ----+\n[Joint States] ---------+--\x3e [Safety Monitor] --/emergency_stop--\x3e [All Controllers]\n[Localization] ---------+\n"})}),"\n",(0,r.jsx)(n.h2,{id:"key-concepts-summary",children:"Key Concepts Summary"}),"\n",(0,r.jsx)(n.h3,{id:"dds-data-distribution-service",children:"DDS (Data Distribution Service)"}),"\n",(0,r.jsx)(n.p,{children:"Industry-standard middleware providing real-time, peer-to-peer communication. The foundation of ROS 2's communication layer."}),"\n",(0,r.jsx)(n.h3,{id:"computational-graph",children:"Computational Graph"}),"\n",(0,r.jsx)(n.p,{children:"The network of nodes connected through topics, services, and actions. Represents the complete system architecture."}),"\n",(0,r.jsx)(n.h3,{id:"node",children:"Node"}),"\n",(0,r.jsx)(n.p,{children:"An independent process performing a specific computation. The basic building block of ROS 2 systems."}),"\n",(0,r.jsx)(n.h3,{id:"topic",children:"Topic"}),"\n",(0,r.jsx)(n.p,{children:"A named data stream using publish-subscribe pattern. Used for continuous data flow like sensor readings."}),"\n",(0,r.jsx)(n.h3,{id:"service",children:"Service"}),"\n",(0,r.jsx)(n.p,{children:"Request-response communication pattern for occasional, transactional interactions requiring confirmation."}),"\n",(0,r.jsx)(n.h3,{id:"action",children:"Action"}),"\n",(0,r.jsx)(n.p,{children:"Extended service pattern for long-running tasks with feedback and cancellation support."}),"\n",(0,r.jsx)(n.h3,{id:"quality-of-service-qos-1",children:"Quality of Service (QoS)"}),"\n",(0,r.jsx)(n.p,{children:"Configurable policies controlling reliability, durability, history, and timing of communication."}),"\n",(0,r.jsx)(n.h3,{id:"rmw-ros-middleware",children:"RMW (ROS Middleware)"}),"\n",(0,r.jsx)(n.p,{children:"Abstraction layer allowing ROS 2 to work with different DDS implementations."}),"\n",(0,r.jsx)(n.h2,{id:"knowledge-checkpoint",children:"Knowledge Checkpoint"}),"\n",(0,r.jsx)(n.p,{children:"Test your understanding of this chapter's concepts:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Architecture Understanding:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Explain why ROS 2's peer-to-peer architecture is more robust than ROS 1's master-based design."}),"\n",(0,r.jsx)(n.li,{children:"What role does DDS play in ROS 2, and why was it chosen over building custom middleware?"}),"\n",(0,r.jsx)(n.li,{children:"Describe the relationship between nodes, topics, and the computational graph."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Communication Patterns:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"When would you use a topic versus a service versus an action? Provide specific humanoid robot examples for each."}),"\n",(0,r.jsx)(n.li,{children:"A navigation system needs to send velocity commands to motors while receiving position feedback. Which communication pattern would you use and why?"}),"\n",(0,r.jsx)(n.li,{children:"Why are topics asynchronous while services are synchronous? What are the implications for system design?"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Quality of Service:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"You're designing a humanoid robot that must receive emergency stop commands reliably, even if components restart. What QoS policies would you configure?"}),"\n",(0,r.jsx)(n.li,{children:'Explain why camera image topics typically use "Best Effort" reliability while command topics use "Reliable".'}),"\n",(0,r.jsx)(n.li,{children:'What happens when a subscriber with "Reliable" QoS tries to connect to a publisher with "Best Effort" QoS?'}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Application Design:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Design the computational graph for a humanoid robot that must navigate to a location while avoiding obstacles. Identify nodes, topics, services, and actions."}),"\n",(0,r.jsx)(n.li,{children:"For each sensor in a humanoid robot (camera, LiDAR, IMU, force sensors), specify appropriate QoS settings and justify your choices."}),"\n",(0,r.jsx)(n.li,{children:"A humanoid must grasp an object. The task takes several seconds and you want progress updates. Which communication pattern would you use and why?"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Critical Thinking:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Why is ROS 2's real-time support essential for humanoid bipedal balance control?"}),"\n",(0,r.jsx)(n.li,{children:"Compare the trade-offs between running all processing on a single powerful computer versus distributing across multiple processors."}),"\n",(0,r.jsx)(n.li,{children:"How does ROS 2's modularity through nodes facilitate development and testing compared to a monolithic application?"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"chapter-summary",children:"Chapter Summary"}),"\n",(0,r.jsx)(n.p,{children:"This chapter introduced ROS 2, the middleware framework that enables building complex robotic systems:"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Middleware for Robotics:"})," ROS 2 provides distributed communication, data flow management, time synchronization, and hardware abstraction. It addresses robotics-specific challenges like real-time constraints, massive data throughput, and heterogeneous platforms."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Evolution from ROS 1:"})," ROS 2 eliminates the single-master architecture, adds real-time support, implements security, and leverages DDS for mature, proven communication infrastructure. These improvements make ROS 2 suitable for production humanoid robots."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"DDS Foundation:"})," Data Distribution Service provides peer-to-peer discovery, high-performance communication, and configurable Quality of Service. Multiple DDS implementations allow optimizing for different deployment scenarios."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Computational Graph:"})," ROS 2 systems consist of nodes connected through topics (streaming data), services (request-response), and actions (long-running goals with feedback). This modular architecture enables building complex systems from reusable components."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Quality of Service:"})," Configurable policies for reliability, durability, history, and timing allow tuning communication for different requirements. Sensor streams use different QoS than commands, which differ from state information."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Humanoid Robot Advantages:"})," ROS 2's real-time support, distributed computation, safety mechanisms, and extensive ecosystem make it ideal for humanoid robotics. The modular architecture naturally matches the layered structure of perception, planning, and control."]}),"\n",(0,r.jsx)(n.p,{children:"Understanding ROS 2's architecture and communication patterns provides the foundation for building the humanoid robot systems we will develop in subsequent chapters."}),"\n",(0,r.jsx)(n.h2,{id:"further-reading",children:"Further Reading"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Official Documentation:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"ROS 2 Official Documentation (docs.ros.org)"}),"\n",(0,r.jsx)(n.li,{children:"DDS Specification (OMG Data Distribution Service)"}),"\n",(0,r.jsx)(n.li,{children:"ROS 2 Design Documents (design.ros2.org)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Books:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:'"A Concise Introduction to Robot Programming with ROS 2" by Francisco Mart\xedn Rico'}),"\n",(0,r.jsx)(n.li,{children:'"ROS 2 Developer\'s Guide" (forthcoming)'}),"\n",(0,r.jsx)(n.li,{children:'"Programming Robots with ROS" by Quigley, Gerkey, and Smart (ROS 1 but concepts transfer)'}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Papers:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:'"ROS 2: The Robot Operating System Version 2" (Maruyama et al.)'}),"\n",(0,r.jsx)(n.li,{children:'"Data Distribution Service (DDS) for Real-time Systems" (OMG)'}),"\n",(0,r.jsx)(n.li,{children:'"Evaluation of the ROS 2 Architecture" (various authors)'}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Online Resources:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"ROS Discourse (community discussion)"}),"\n",(0,r.jsx)(n.li,{children:"ROS 2 tutorials and demos"}),"\n",(0,r.jsx)(n.li,{children:"DDS vendor documentation (eProsima, RTI, Eclipse Cyclone)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Videos:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"ROSCon presentations on ROS 2 architecture"}),"\n",(0,r.jsx)(n.li,{children:"DDS technology overviews"}),"\n",(0,r.jsx)(n.li,{children:"ROS 2 migration guides"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"looking-ahead",children:"Looking Ahead"}),"\n",(0,r.jsx)(n.p,{children:"With understanding of ROS 2's architecture and communication patterns, we now turn to building systems with ROS 2. The next chapter explores package structure, publishers and subscribers, launch systems, parameters, and multi-node system design. You will learn how to organize code, manage configuration, and orchestrate complex behaviors\u2014skills essential for developing humanoid robot applications."})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453(e,n,i){i.d(n,{R:()=>t,x:()=>a});var s=i(6540);const r={},o=s.createContext(r);function t(e){const n=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);